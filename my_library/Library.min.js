// CopyRight by Chen 2021/08 - 2022/03 Library-min-version language - javascript ver 1.3.7
// Work Environment Javascript ES6 or latest
const $=(a=>{const b=c=>{let d=a.call(a,c)||c;return d.texts=a=>void 0===a?d.textContent:d.textContent=a,d.html=a=>void 0===a?d.innerHTML:d.innerHTML=a,d.addClass=a=>(d.classList.add(a),d),d.removeClass=a=>(d.classList.remove(a),d),d.toggleClass=a=>d.classList.toggle(a),d.on=(a,b)=>{d[["on",a].join("")]=()=>b.call(b,d)},d.listener=(a,b)=>d.addEventListener(a,b),d.removeListener=(a,b)=>d.removeEventListener(a,b),d.val=a=>void 0===a?d.value:d.value=a,d.attr=(a,b)=>void 0===b?d.getAttribute(a):d.setAttribute(a,b),d.props=(a,b)=>void 0===b?d[a]:d[a]=b,d.sibling=a=>b(d[a]),d.child=a=>b(d.children[a]),d.childFirst=()=>b(d.firstElementChild),d.childLast=()=>b(d.lastElementChild),d.parent=()=>b(d.parentNode),d.appendDom=a=>b(d).append(a),d.removeDom=()=>b(d).remove(),d.removeChildDom=()=>b(d).replaceChildren(),d.appendDomText=a=>b(d).appendChild(a),d.easyAppendDom=(a,c)=>b(d).insertAdjacentHTML("afterDom"===a?"beforeend":"afterbegin",c),d.styles=(a,c,e)=>b.includes(["set","remove"],a)?("set"===a?d.style.setProperty(c,e):d.style.removeProperty(c),d):void b.console("error","First parameter method must use string and keyword is 'set' or 'remove'."),d.getDomStyles=a=>{let c={};return"object"==typeof a?0===a.length?void b.console("error","Parameter must use array,and css property must in array with string."):(b.each(a,a=>c[a]=getComputedStyle(b(d)).getPropertyValue(a)),c):void b.console("error","Parameter must use array.")},d.scrollToTop=(a={scrollTop:0,duration:0})=>{let b;const[c,e]=Object.keys(a),f=d[c],g=a[c]-f,h=+new Date,i=(a={currentTime:0,startVal:0,changeVal:0,animateDuration:0})=>{let{currentTime:b,startVal:c,changeVal:d,animateDuration:e}=a,f=b;return(f/=e/2,1>f)?d/2*f*f+c:(f-=1,-d/2*(f*(f-2)-1)+c)};(b=()=>{const j=+new Date-h;d.scrollTop=+i({currentTime:j,startVal:f,changeVal:g,animateDuration:a[e]}),j<a[e]?requestAnimationFrame(b):d.scrollTop=a[c]})()},d.useWillMount=a=>{"object"==typeof d?b.typeOf(d,"HTMLDocument")?b(d).listener("readystatechange",({target:b})=>"interactive"===b.readyState&&a.call(a,b)):b.console("error","UseWillMount hook just use when selector document."):b.console("error","UseWillMount hook just use when selector document.")},d.useMounted=a=>{"object"==typeof d?b.typeOf(d,"HTMLDocument")?b(d).listener("readystatechange",({target:b})=>"complete"===b.readyState&&a.call(a,b)):b.console("error","UseMounted Hook just use when selector document."):b.console("error","UseMounted Hook just use when selector document.")},d};return b.each=(a,b)=>a.forEach((c,d)=>b.call(a,c,d)),b.maps=(a,b)=>a.map((c,d)=>b.call(a,c,d)),b.filter=(a,b)=>a.filter(c=>b.call(a,c)),b.find=(a,b)=>a.find(a=>b.call(a,items)),b.reduce=(c,d)=>c.reduce((e,a)=>d.call(c,e,a)),b.sort=(c,d)=>c.sort((e,a)=>d.call(c,e,a)),b.indexOf=(a,b)=>a.indexOf(b),b.includes=(a,b)=>a.includes(b),b.findIndexOfObj=(a,b)=>a.findIndex(c=>b.call(a,c)),b.sum=(c,d)=>c.reduce((e,a)=>d.call(c,e,a)),b.typeOf=(a,b)=>void 0===b?a.constructor.name:a.constructor.name===b,b.console=(a,...b)=>console[a](...b),b.localData=(a,c,d)=>"get"===a?b.convert(localStorage.getItem(c),"json")||[]:localStorage.setItem(c,b.convert(d,"stringify")),b.createArray=({type:a,item:c},d)=>{if("fake"===a){if("random"in c&&b.typeOf(c.random,"Number")&&void 0!==d&&b.typeOf(d,"Function"))return Array.from({length:c.random},(a,b)=>d.call(d,b));b.console("error","item property must have random in object and radom type must be number,with call back function in secode parameters.")}else if("new"===a&&!("random"in c))return Array.from(c)},b.convert=(a,c)=>{if(void 0===a||void 0===c||!b.includes(["string","number","float","boolean","json","stringify"],c))return void b.console("error","Please enter first parameters value who want to convert and seconde paramters value is convert type 'string' or 'number' or 'float' or 'boolean' or 'json' or 'stringify'.");if("object"==typeof a&&b.includes(["string","number","float","boolean"],c))return void b.console("error",`Convert value can't be object when use convert type ${c}.`);const d={string:a+"",number:parseInt(a),float:parseFloat(a),boolean:!!a,json:"json"===c&&JSON.parse(a),stringify:"stringify"===c&&JSON.stringify(a)};return d[c]},b.createDom=(a,c)=>{const d=document.createElement(a),e=Object.entries(c);return b.each(e,a=>{const[c,e]=a;if(b.typeOf(e,"Object")){const[b,c]=a,[[e,f]]=Object.entries(c);d[b][e]=f}else d[c]=b.typeOf(e,"String")?e.trim():e}),d},b.createDomText=a=>document.createTextNode(a),b.objDetails=(a,c)=>void 0!==c&&b.includes(["keys","values","entries"],c)?Object[c](a):b.console("error","please enter secode prameter 'keys' or 'values' or 'entries' in type string"),b.objManager=(a,c,d,e)=>{const f=()=>void 0===a?"Please put want to manage's object at first parameters":void 0!==c&&b.includes(["get","set","add","delete"],c)?"string"==typeof c?void 0===d?"Please enter want to use key name at third parameters":"string"==typeof d?void 0===e?`Please enter want to set value at forth parameters.`:void 0:"Third parameters must use type string.":"Seconde parameters must use type string.":"Please enter want to use methods \"get\u3001set\u3001add\u3001delete\" at seconde parameters";switch(c){case"get":return a;case"set":void 0===f()?d in a?a[d]=e:b.console("error",`Key name ${d} not in this object.`):b.console("error",f());break;case"add":void 0===f()?d in a?b.console("error",`Key name ${d} already in this object`):a[d]=e:b.console("error",f());break;case"delete":void 0===f()?d in a?delete a[d]:b.console("error",`Key name ${d} not in this object.`):b.console("error",f());}},b.formatDateTime=(a={formatDate:"",formatType:""})=>{if(!("formatDate"in a||"formatType"in a))return void b.console("error","Please enter an object and use formatType property in the object.");const c=1e3*(60*(60*("localCountryTime"in a?a.localCountryTime:8))),d=new Date(+new Date(a.formatDate)+c).toJSON(),e=d.replace(/T/g,"-").replace(/:/g,"-").split(".")[0].split("-"),[f,g,h,i,j,k]=e;if("toDateFullNumber"in a)return+e.join("");if(a.formatType.match("tt")){const c=11<b.convert(i,"number")?"PM":"AM",d=10>b.convert(i,"number")-12?`0${b.convert(i,"number")-12}`:b.convert(b.convert(i,"number")-12,"string");return a.formatType.replace(/yyyy/g,f).replace(/MM/g,g).replace(/dd/g,h).replace(/HH/g,d).replace(/mm/g,j).replace(/ss/g,k).replace(/tt/g,c)}return a.formatType.replace(/yyyy/g,f).replace(/MM/g,g).replace(/dd/g,h).replace(/HH/g,i).replace(/mm/g,j).replace(/ss/g,k)},b.fetch=async(a={method:"",url:"",headers:{},contentType:"",data:{},beforePost:void 0,successFn:void 0,excuteDone:void 0,errorFn:void 0})=>{const c={},{method:d,url:e,headers:f,contentType:g,data:h,beforePost:i,successFn:j,excuteDone:k,errorFn:l}=a;if(c.method=d,c.url=e,void 0!==f&&(c.headers=f),void 0!==h&&(c.headers={"Content-Type":g},c.body=b.convert(h,"stringify")),void 0!==f&&void 0!==h&&(c.headers={...f},c.body=b.convert(h,"stringify")),(void 0!==i&&i.call(i),void 0===j))return void b.console("error","Function Name successFn is required in obejct parameters.");if(void 0===l)return void b.console("error","Function Name errorFn is required in obejct parameters.");try{const a=await fetch(e,c).then(a=>a);if(200<=a.status&&300>a.status)a.json().then(b=>j.call(j,{bodyUsed:a.bodyUsed,headers:a.headers,ok:a.ok,redirected:a.redirected,status:a.status,statusText:a.status,type:a.type,url:a.url,data:b})).then(()=>k&&k.call(k));else throw new Error(JSON.stringify({bodyUsed:a.bodyUsed,headers:a.headers,ok:a.ok,redirected:a.redirected,status:a.status,statusText:a.status,type:a.type,url:a.url}))}catch(a){l.call(l,JSON.parse(a.message))}},b})(a=>"object"==typeof a?a:1<document.querySelectorAll(a).length?document.querySelectorAll(a):document.querySelector(a));Date.prototype.calculateDay=a=>{if(void 0===a||!("day"in a&&"method"in a))return void $.console("error","Please enter an object and use day and method property in the object.");if("number"!=typeof a.day)$.console("error","day property must use type number.");else if(!$.includes(["add","reduce"],a.method))return void $.console("error","Please enter method type 'add' or 'reduce'.");const b=new Date(+new Date+1e3*(60*(60*(24*a.day)))),c=new Date(+new Date-1e3*(60*(60*(24*a.day))));return"add"===a.method?b:c};