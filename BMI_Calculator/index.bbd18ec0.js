function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(t){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{},n=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter((function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})))),n.forEach((function(r){e(t,r,s[r])}))}return t}const r=(r=>{const s=e=>{const t=r.call(r,e)||e;return t.texts=e=>e?t.textContent=e:t.textContent,t.html=e=>e?t.innerHTML=e:t.innerHTML,t.addClass=e=>(t.classList.add(e),t),t.removeClass=e=>(t.classList.remove(e),t),t.toggleClass=e=>t.classList.toggle(e),t.on=(e,r)=>{t[["on",e].join("")]=e=>r.call(r,t,e)},t.listener=(e,r)=>t.addEventListener(e,r),t.removeListener=(e,r)=>t.removeEventListener(e,r),t.val=e=>e?t.value=e:t.value,t.attr=(e,r)=>r?t.setAttribute(e,r):t.getAttribute(e),t.props=(e,r)=>r?t[e]=r:t[e],t.sibling=e=>t[e],t.child=e=>t.children[e],t.childFirst=()=>t.firstElementChild,t.childLast=()=>t.lastElementChild,t.parent=()=>t.parentNode,t.appendDom=e=>t.append(e),t.removeDom=()=>t.remove(),t.removeChildDom=()=>t.replaceChildren(),t.appendDomText=e=>t.appendChild(e),t.easyAppendDom=(e,r)=>t.insertAdjacentHTML("afterDom"!==e?"afterbegin":"beforeend",r),t.styles=(e,r,n)=>{if(s.includes(["set","remove"],e))return"set"===e?t.style.setProperty(r,n):t.style.removeProperty(r),t;s.console("error","First parameter method must use string and keyword is 'set' or 'remove'.")},t.getDomStyles=e=>{const r={};if("object"!=typeof e)s.console("error","Parameter must use array.");else{if(0!==e.length)return s.each(e,(e=>r[e]=getComputedStyle(t).getPropertyValue(e))),r;s.console("error","Parameter must use array,and css property must in array with string.")}return r},t.getDomPos=()=>({x:t.props("offsetLeft"),y:t.props("offsetTop")-window.scrollY,top:t.props("offsetTop"),left:t.props("offsetLeft"),right:t.props("offsetLeft")+t.props("offsetWidth"),bottom:t.props("offsetTop")+t.props("offsetHeight")-window.scrollY,width:t.props("offsetWidth"),height:t.props("offsetHeight")}),t.scrollToTop=(e={scrollTop:0,duration:0})=>{let r;const[s,n]=Object.keys(e),o=t[s],a=e[s]-o,i=+new Date;(r=()=>{const l=+new Date-i;t.scrollTop=Number((e=>{const{currentTime:t,startVal:r,changeVal:s,animateDuration:n}=e;let o=t;return o/=n/2,o<1?s/2*o*o+r:(o-=1,-s/2*(o*(o-2)-1)+r)})({currentTime:l,startVal:o,changeVal:a,animateDuration:e[n]})),l<e[n]?requestAnimationFrame(r):t.scrollTop=e[s]})()},t.useWillMount=e=>{"object"==typeof t&&s.typeOf(t,"HTMLDocument")?t.listener("readystatechange",(({target:t})=>"interactive"===t.readyState&&e.call(e,t))):s.console("error","UseWillMount hook just use when selector document.")},t.useMounted=e=>{"object"==typeof t&&s.typeOf(t,"HTMLDocument")?t.listener("readystatechange",(({target:t})=>"complete"===t.readyState&&e.call(e,t))):s.console("error","UseMounted Hook just use when selector document.")},t};s.each=(e,t)=>e.forEach(((e,r)=>t.call(t,e,r))),s.maps=(e,t)=>e.map(((e,r)=>t.call(t,e,r))),s.filter=(e,t)=>e.filter((e=>t.call(t,e))),s.find=(e,t)=>e.find((e=>t.call(t,e))),s.sort=(e,t)=>e.sort(((e,r)=>t.call(t,e,r))),s.sum=(e,t,r)=>r?e.reduce(((e,r)=>t.call(t,e,r)),r):e.reduce(((e,r)=>t.call(t,e,r))),s.indexOf=(e,t)=>e.indexOf(t),s.includes=(e,t)=>e.includes(t),s.findIndexOfObj=(e,t)=>e.findIndex((e=>t.call(t,e))),s.findObjProperty=(e,t)=>e.hasOwnProperty(t),s.mergeArray=(e,t,r)=>r?e.concat(t):r.call(r,e.concat(t)),s.typeOf=(e,t)=>t?e.constructor.name===t:e.constructor.name,s.console=(e,...t)=>console[e](...t),s.localData=(e,t,r)=>"get"===e?s.convert(localStorage.getItem(t),"json")||[]:localStorage.setItem(t,s.convert(r,"stringify")),s.getNumberOfDecimal=(e,t)=>parseInt(e.toFixed(t)),s.createCustomEvent=(e,t)=>t?new CustomEvent(e,{detail:t}):new CustomEvent(e),s.registerCustomEvent=(e,t)=>window.addEventListener(e,t),s.useCustomEvent=e=>window.dispatchEvent(e),s.removeCustomEvent=(e,t)=>window.removeEventListener(e,t),s.createPromise=e=>new Promise(((t,r)=>e.call(e,t,r))),s.createPromiseAll=(...e)=>Promise.all(e),s.createDomText=e=>document.createTextNode(e),s.objDetails=(e,t)=>void 0!==t&&s.includes(["keys","values","entries"],t)?Object[t](e):s.console("error","please enter secode prameter 'keys' or 'values' or 'entries' in type string"),s.createArray=({type:e,item:t},r)=>{if("fake"===e){if("random"in t&&s.typeOf(t.random,"Number")&&void 0!==r&&s.typeOf(r,"Function"))return Array.from({length:t.random},((e,t)=>r.call(r,t)));s.console("error","item property must have random in object and radom type must be number,with call back function in secode parameters.")}else if("new"===e&&!("random"in t))return Array.from(t)},s.convert=(e,t)=>{if(void 0===e||void 0===t)return void s.console("error","Please enter first parameters value who want to convert and seconde paramters value is convert type 'string' or 'number' or 'float' or 'boolean' or 'json' or 'stringify'.");if("object"==typeof e&&s.includes(["string","number","float","boolean"],t))return void s.console("error",`Convert value can't be object when use convert type ${t}.`);return{string:String(e),number:parseInt(e),float:parseFloat(e),boolean:Boolean(e),json:"json"===t&&JSON.parse(e),stringify:"stringify"===t&&JSON.stringify(e)}[t]},s.createDom=(e,t)=>{const r=document.createElement(e),n=Object.entries(t);return s.each(n,(e=>{const[t,n]=e;if(s.typeOf(n,"Object")){const[t,s]=e,[[n,o]]=Object.entries(s);r[t][n]=o}else r[t]=s.typeOf(n,"String")?n.trim():n})),r},s.currencyTranser=(e,t)=>{if(void 0!==e){const r=""===e?{}:{style:"currency",currency:e};return new Intl.NumberFormat(""===e?"TWN":e,r).format(t)}s.console("error","First argument currency type is must.")},s.formatDateTime=e=>{if(!("formatDate"in e)&&!("formatType"in e))return void s.console("error","Please enter an object and use formatType property in the object.");if(s.findObjProperty(e,"customWeekItem")){if("Array"!==s.typeOf(e.customWeekItem))return void s.console("error","customWeekItem property Must use array.");if(e.customWeekItem.length<=6||e.customWeekItem.length>7)return void s.console("error","customWeekItem property must put seven days name of week in array.");e.customWeekItem=[e.customWeekItem[e.customWeekItem.length-1],...e.customWeekItem],e.customWeekItem.pop()}const t=36e5*("localCountryTime"in e?e.localCountryTime||0:8),r=new Date(+new Date(e.formatDate)+t).toJSON().replace(/T/g,"-").replace(/:/g,"-").split(".")[0].split("-"),[n,o,a,i,l,c]=r;if("toDateFullNumber"in e)return s.convert(r.join(""),"number");if(e.formatType.match("tt")){const t=s.convert(i,"number")>11?"PM":"AM",r=s.convert(i,"number")-12<10?"0"+(s.convert(i,"number")-12):s.convert(s.convert(i,"number")-12,"string");return e.formatType.replace(/yyyy/g,n).replace(/MM/g,o).replace(/dd/g,a).replace(/HH/g,r).replace(/mm/g,l).replace(/ss/g,c).replace(/tt/g,t)}return s.findObjProperty(e,"customWeekItem")?{fullDateTime:e.formatType.replace(/yyyy/g,n).replace(/MM/g,o).replace(/dd/g,a).replace(/HH/g,i).replace(/mm/g,l).replace(/ss/g,c),getWeekName:e.customWeekItem[new Date(+new Date(e.formatDate)).getDay()]}:e.formatType.replace(/yyyy/g,n).replace(/MM/g,o).replace(/dd/g,a).replace(/HH/g,i).replace(/mm/g,l).replace(/ss/g,c)};class n{static async fetchSetting(e,r){const n={},{method:o,headers:a,contentType:i,returnType:l,data:c,routeParams:d,beforePost:u,successFn:p,excuteDone:m,errorFn:f}=e;n.method=o,e.url=this.baseUrl?`${this.baseUrl}${e.url}`:e.url;const h=l||"json";if(!o)return void s.console("error","Property name method is required in obejct parameters.");if(!s.includes(["get","post","patch","put","delete"],o.toLocaleLowerCase()))return void s.console("error","Method value must use valid request method,like get、post ...");if(d){const[t]=s.objDetails(d,"keys");e.url=`${e.url}/${d[t]}`}if((s.objDetails(this.baseHeaders,"keys").length>0||a&&s.objDetails(a,"keys").length>0)&&(n.headers=s.objDetails(this.baseHeaders,"keys").length>0?this.baseHeaders:t({"Content-Type":"application/json"},a)),c&&(n.headers=s.objDetails(this.baseHeaders,"keys").length>0?this.baseHeaders:{"Content-Type":i||"application/json"},n.body=s.convert(c,"stringify")),(s.objDetails(this.baseHeaders,"keys").length>0||a)&&c&&(n.headers=s.objDetails(this.baseHeaders,"keys").length>0?this.baseHeaders:t({},a),n.body=s.convert(c,"stringify")),!r){if(u&&u.call(u),!p)return void s.console("error","Function Name successFn is required in obejct parameters.");if(!f)return void s.console("error","Function Name errorFn is required in obejct parameters.")}const y=await fetch(e.url,n);if(r)return new Promise((async(e,t)=>{if(y.status>=200&&y.status<400){const t=await y[h]();return e({bodyUsed:y.bodyUsed,headers:y.headers,ok:y.ok,redirected:y.redirected,status:y.status,statusText:y.statusText,type:y.type,url:y.url,data:t})}t({bodyUsed:y.bodyUsed,headers:y.headers,ok:y.ok,redirected:y.redirected,status:y.status,statusText:y.statusText,type:y.type,url:y.url})}));try{if(!(y.status>=200&&y.status<400))throw new Error(JSON.stringify({bodyUsed:y.bodyUsed,headers:y.headers,ok:y.ok,redirected:y.redirected,status:y.status,statusText:y.statusText,type:y.type,url:y.url}));{const e=await y[h]();null==p||p.call(p,{bodyUsed:y.bodyUsed,headers:y.headers,ok:y.ok,redirected:y.redirected,status:y.status,statusText:y.statusText,type:y.type,url:y.url,data:e}),m&&m.call(m)}}catch(e){null==f||f.call(f,JSON.parse(e.message))}}static createBase({baseUrl:e,baseHeaders:t}){this.baseUrl=e,this.baseHeaders=t}}e(n,"baseUrl",""),e(n,"baseHeaders",{});class o extends n{}o.get=(e,r)=>o.fetchSetting(t({method:"get",url:e},r),!0),o.post=(e,r)=>o.fetchSetting(t({method:"post",url:e},r),!0),o.patch=(e,r)=>o.fetchSetting(t({method:"patch",url:e},r),!0),o.put=(e,r)=>o.fetchSetting(t({method:"put",url:e},r),!0),o.delete=(e,r)=>o.fetchSetting(t({method:"delete",url:e},r),!0);return s.fetch=e=>n.fetchSetting(e,!1),s.fetch.get=(e,t)=>o.get(e,t),s.fetch.post=(e,t)=>o.post(e,t),s.fetch.patch=(e,t)=>o.patch(e,t),s.fetch.put=(e,t)=>o.put(e,t),s.fetch.delete=(e,t)=>o.delete(e,t),s.fetch.createBase=e=>n.createBase(e),s})((e=>"object"==typeof e?e:document.querySelectorAll(e).length>1?document.querySelectorAll(e):document.querySelector(e)));String.prototype.appendText=function(e){return this.toString()+e},String.prototype.format=function(e,...t){if(r.typeOf(e,"String")&&r.includes(e,"{")&&r.includes(e,"}")){if(e.split("{").join("").split("}").length-1===t.length){let s=e;const n=r.maps(t,((e,t)=>({replaceKey:`{${t}}`,replaceValue:e})));return r.maps(n,(({replaceKey:e,replaceValue:t})=>(s=s.replace(e,t),s))).slice(n.length-1,n.length).join("")}r.console("error","Can't not find else aguments.")}else r.console("error","First paramter must use type string,if use string must like this ex：abc {0} efg {1}.")},Date.prototype.calculateDay=function(e){if(void 0!==e&&"day"in e&&"method"in e)if("number"==typeof e.day){if(r.includes(["addDay","reduceDay"],e.method))return{addDay:new Date(+this+864e5*e.day),reduceDay:new Date(+this-864e5*e.day)}[e.method];r.console("error","Please enter method type 'addDay' or 'reduceDay'.")}else r.console("error","day property must use type number.");else r.console("error","Please enter an object and use day and method property in the object.")},Date.prototype.toOptionTimeZoneForISO=function(e){return new Date(+this+36e5*(e||8)).toISOString()},Array.prototype.append=function(e){this.push(e)},Array.prototype.appendFirst=function(e){return this.unshift(e),this},Array.prototype.remove=function(e){return this.splice(e,1),this},Array.prototype.range=function(e,t){return this.slice(e,t)},Array.prototype.removeFirst=function(){return this.shift(),this},Array.prototype.removeLast=function(){return this.pop(),this},Map.prototype.append=function(e,t){this.set(e,t)},Map.prototype.getValue=function(e){return this.get(e)},Map.prototype.deleteKeyValue=function(e){return this.delete(e)},Map.prototype.removeAll=function(){this.clear()},Map.prototype.isKeyInMap=function(e){return this.has(e)},Map.prototype.toObject=function(){return Object.fromEntries(this)},Set.prototype.append=function(e){this.add(e)},Set.prototype.deleteValue=function(e){return this.delete(e)},Set.prototype.isValueInSet=function(e){return this.has(e)},Set.prototype.removeAll=function(){this.clear()},Set.prototype.toArray=function(){return[...this]};var s=r;let n={},o=s.localData("get","data");const a=({target:{className:e,value:t}})=>{if(!new RegExp("^[0-9]*$").test(t))return;n[e]=parseInt(t),n.check=!1;const{height:r,weight:o}=n,a={[`${!r||!o}`]:{ruleTxtH:"請輸入身高",ruleTxtW:"請輸入體重"},[`${0===r||0===o}`]:{ruleTxtH:"請輸入身高",ruleTxtW:"請輸入體重"},[`${r>201||r<10}`]:{ruleTxtH:"身高區間錯誤",ruleTxtW:""},[`${o>201||o<10}`]:{ruleTxtH:"",ruleTxtW:"體重區間錯誤"},[`${r&&o}`]:void 0}.true;if(a){const{ruleTxtH:e,ruleTxtW:t}=a;return s(".height-check").texts(e),s(".weight-check").texts(t),void(n.check=!1)}s(".height-check").texts("格式正確"),s(".weight-check").texts("格式正確"),n.check=!0,n.bmi=Math.floor(o/(r/100*(r/100)))},i=e=>({[`${e<18.5}`]:{refTxt:"過輕呦",colorClassTag:"pink"},[`${18.5<=e&&e<24}`]:{refTxt:"理想型",colorClassTag:"green"},[`${24<=e&&e<27}`]:{refTxt:"開始胖",colorClassTag:"orange-sm"},[`${27<=e&&e<30}`]:{refTxt:"輕度胖",colorClassTag:"orange-md"},[`${30<=e&&e<35}`]:{refTxt:"中度胖",colorClassTag:"orange-lg"},[`${e>=35}`]:{refTxt:"幸福胖",colorClassTag:"red"}}.true),l=()=>{const{height:e,weight:t,bmi:r,check:a}=n;if(!a)return;const{refTxt:l,colorClassTag:d}=i(r);o=[{refTxt:l,colorClassTag:d,height:e,weight:t,bmi:r,timesTemp:s.formatDateTime({formatDate:new Date,formatType:"yyyy-MM-dd HH:mm:ss"})},...o],s.localData("set","data",o),c(o),document.querySelector(".height").value="",document.querySelector(".weight").value="",s(".height-check").texts("請輸入身高"),s(".weight-check").texts("請輸入體重"),s(".render-data-outer").addClass("active"),n={}},c=e=>{let t="";t=e.length>0?s.maps(e,((e,t)=>`\n            <div class="list-item ${e.colorClassTag}">\n                <div class="row no-gutters">\n                    <div class="col-md-9">\n                        <div class="row no-gutters pos">\n                            <div class="col-md-2">\n                                <span>${e.refTxt}</span>\n                            </div>\n                            <div class="col-md-2">\n                                <span>BMI值 <span>${e.bmi}</span><span>\n                            </div>\n                            <div class="col-md-2">\n                                <span>身高 <span>${e.height} CM</span></span>\n                            </div>\n                            <div class="col-md-2">\n                                <span>體重 <span>${e.weight} KG</span></span>\n                            </div>\n                            <div class="col-md-4">\n                                <span>${e.timesTemp}</span>\n                            </div>\n                            <div class="ref-content">\n                                <div class="row">\n                                    <div class="col-md-4">\n                                        <div>\n                                            <span ${"過輕呦"===i(e.bmi).refTxt?"class='math-val'":""}>BMI ＜ 18.5 過輕呦</span>\n                                            <span ${"理想型"===i(e.bmi).refTxt?"class='math-val'":""}>18.5 ≦ BMI ＜ 24 理想型</span>\n                                        </div>\n                                    </div>\n                                    <div class="col-md-4">\n                                        <div>\n                                            <span ${"開始胖"===i(e.bmi).refTxt?"class='math-val'":""}>24 ≦ BMI ＜ 27 開始胖</span>\n                                            <span ${"輕度胖"===i(e.bmi).refTxt?"class='math-val'":""}>27 ≦ BMI ＜ 30 輕度胖</span>\n                                        </div>\n                                    </div>\n                                    <div class="col-md-4">\n                                        <div>\n                                            <span ${"中度胖"===i(e.bmi).refTxt?"class='math-val'":""}>30 ≦ BMI ＜ 35 中度胖</span>\n                                            <span ${"幸福胖"===i(e.bmi).refTxt?"class='math-val'":""}>BMI ≧ 35 幸福胖</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="delete-content">\n                                <div class="title">確定要刪除此筆紀錄？</div>\n                                <div class="row no-gutters">\n                                    <div class="col-12">\n                                        <div class="confirm" onclick="deleteItem('${e.timesTemp}',${t})">確定</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="col-md-3">\n                        <div class="side-btn-group">\n                            <div class="row no-gutters">\n                                <div class="col-6">\n                                    <div class="ref-btn" onclick="toggleDisplay(this,${t})">參考指標</div>\n                                </div>\n                                <div class="col-6">\n                                    <div class="delete-btn" onclick="toggleDisplay(this,${t})">刪除</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `)).join(""):"<div class='no-data-outer'><div class='no-data'>-- 目前無檢測紀錄 --</div></div>",s(".render-data").html(t)};window.deleteItem=(e,t)=>{const r=s.findIndexOfObj(o,(({timesTemp:t})=>t===e));o.length>1?(s(s(".list-item")[t]).addClass("delete-active"),setTimeout((()=>s(s(".list-item")[t]).styles("set","margin",`-${s(s(".list-item")[t]).props("offsetHeight")/2}px 0`)),650)):(s(".list-item").addClass("delete-active"),setTimeout((()=>s(".list-item").styles("set","margin",`-${s(".list-item").props("offsetHeight")/2}px 0`)),650)),setTimeout((()=>{o.splice(r,1),s.localData("set","data",o),c(s.localData("get","data"))}),1650)},window.toggleDisplay=({className:e},t)=>{const r="ref-btn"===e?".ref-content":".delete-content",n=o.length>1?s(s(r)[t]).attr("class"):s(r).attr("class"),a=s.indexOf(n,"active");o.length>1?(-1===a?s(s(r)[t]).addClass("active"):s(s(r)[t]).removeClass("active"),-1===a?s(s(`.${e}`)[t]).texts("關閉"):s(s(`.${e}`)[t]).texts("ref-btn"===e?"參考指標":"刪除")):(-1===a?s(r).addClass("active"):s(r).removeClass("active"),-1===a?s(`.${e}`).texts("關閉"):s(`.${e}`).texts("ref-btn"===e?"參考指標":"刪除"))};const d=()=>{const e=s(".render-data-outer").attr("class"),t=s.indexOf(e,"active");s(".render-data-outer")[-1===t?"addClass":"removeClass"]("active")};s(document).useMounted((()=>{s(".height").listener("input",a),s(".weight").listener("input",a),s(".add-btn").listener("click",l),s(".toggle-data-btn").listener("click",d),s(".title").addClass("title-active"),setTimeout((()=>s(".input-groups").addClass("input-group-active")),700),setTimeout((()=>s(".add-btn").addClass("add-btn-active")),1400),c(o),o.length>0&&d()}));