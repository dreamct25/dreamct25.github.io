!function(){function t(t,e,n,r,o,a,s){try{var i=t[a](s),c=i.value}catch(t){n(t);return}i.done?e(c):Promise.resolve(c).then(r,o)}function e(e){return function(){var n=this,r=arguments;return new Promise(function(o,a){var s=e.apply(n,r);function i(e){t(s,o,a,i,c,"next",e)}function c(e){t(s,o,a,i,c,"throw",e)}i(void 0)})}}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n,r,o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var a=[],s=!0,i=!1;try{for(o=o.call(t);!(s=(n=o.next()).done)&&(a.push(n.value),!e||a.length!==e);s=!0);}catch(t){i=!0,r=t}finally{try{s||null==o.return||o.return()}finally{if(i)throw r}}return a}}(t,e)||o(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){var n,r,o,a,s=function(t){return function(e){return i([t,e])}},i=function(s){if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(c=0)),c;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,r=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){c.label=s[1];break}if(6===s[0]&&c.label<o[1]){c.label=o[1],o=s;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(s);break}o[2]&&c.ops.pop(),c.trys.pop();continue}s=e.call(t,c)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}},c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}// © CopyRight 2021-08 - 2023-09 Alex Chen. Library Language - Typescript Ver 1.6.1
// Work Environment Typescript v5.2.2、ESlint v8.49.0
//
/* eslint-disable no-return-assign *//* eslint-disable promise/param-names *//* eslint-disable no-prototype-builtins *//* eslint-disable @typescript-eslint/no-redeclare *//* eslint-disable @typescript-eslint/no-invalid-void-type *//* eslint-disable @typescript-eslint/no-unused-expressions *//* eslint-disable @typescript-eslint/no-non-null-assertion *//* eslint-disable @typescript-eslint/method-signature-style *//* eslint-disable @typescript-eslint/no-this-alias *//* eslint-disable @typescript-eslint/strict-boolean-expressions *//* eslint-disable @typescript-eslint/no-confusing-void-expression *//* eslint-disable @typescript-eslint/restrict-template-expressions *//* eslint-disable @typescript-eslint/consistent-type-assertions *///
// Use in ESModule
// export default $
// String tips when use method
function i(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),o.forEach(function(e){n(t,e,r[e])})}return t}function l(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}"function"==typeof SuppressedError&&SuppressedError;var p,d,m,y,h,v,b,g,w,x,T,j,k,O,S,C,D=function(t){var e="string"==typeof t?document.querySelectorAll(t).length>1?document.querySelectorAll(t):document.querySelector(t):t;return e.texts=function(t){if(!t)return e.textContent;e.textContent=t},e.html=function(t){if(!t)return e.innerHTML;e.innerHTML=t},e.addClass=function(t){return e.classList.add(t),e}// 更新方法 2022/03/12 變形為可鏈式寫法
,e.removeClass=function(t){return e.classList.remove(t),e}// 更新方法 2022/03/12 變形為可鏈式寫法
,e.toggleClass=function(t){return e.classList.toggle(t)// 更新方法 2021/09/20
},e.on=function(t,n){e[["on",t].join("")]=function(t){return n.call(n,e,t)}}// 更新方法 2021/09/20
,e.listener=function(t,n){return e.addEventListener(t,n)},e.removeListener=function(t,n){return e.removeEventListener(t,n)// 更新方法 2022/01/04
},e.val=function(t){if(!t)return e.value;e.value=t},e.attr=function(t,n){return n?e.setAttribute(t,n):e.getAttribute(t)},e.props=function(t,n){return n?e[t]=n:e[t]},e.sibling=function(t){return e[t]// 更新方法 2021/08/31
},e.child=function(t){return e.children[t]// 更新方法 2021/08/31
},e.childFirst=function(){return e.firstElementChild// 更新方法 2021/08/31
},e.childLast=function(){return e.lastElementChild// 更新方法 2021/08/31
},e.parent=function(){return e.parentNode// 更新方法 2021/08/31
},e.appendDom=function(t){return e.append(t)// 更新方法 2021/09/12
},e.removeDom=function(){return e.remove()// 更新方法 2021/09/12
},e.removeChildDom=function(){return e.replaceChildren()// 更新方法 2021/10/25
},e.appendDomText=function(t){return e.appendChild(t)// 更新方法 2021/09/12
},e.easyAppendDom=function(t,n){return e.insertAdjacentHTML("afterDom"!==t?"afterbegin":"beforeend",n)// 更新方法 2021/11/25
},e.styles=function(t,n,r){// 更新方法 2021/10/26
// 更新方法 2022/03/12 變形為可鏈式寫法
if(!D.includes(["set","remove"],t)){D.console("error","First parameter method must use string and keyword is 'set' or 'remove'.");return}return"set"===t?e.style.setProperty(n,r):e.style.removeProperty(n),e},e.getDomStyles=function(t){var n={};return"object"!=typeof t?D.console("error","Parameter must use array."):0===t.length?D.console("error","Parameter must use array,and css property must in array with string."):D.each(t,function(t){return n[t]=getComputedStyle(e).getPropertyValue(t)}),n},e.getDomPos=function(){return{x:e.props("offsetLeft"),y:e.props("offsetTop")-window.scrollY,top:e.props("offsetTop"),left:e.props("offsetLeft"),right:e.props("offsetLeft")+e.props("offsetWidth"),bottom:e.props("offsetTop")+e.props("offsetHeight")-window.scrollY,width:e.props("offsetWidth"),height:e.props("offsetHeight")}},e.scrollToTop=function(t){var n,r=a(Object.keys(t),2),o=r[0],s=r[1],i=e[o],c=t[o]-i,u=+new Date,l=function(t){var e=t.currentTime,n=t.startVal,r=t.changeVal,o=t.animateDuration,a=e;return(a/=o/2)<1?r/2*a*a+n:-r/2*((a-=1)*(a-2)-1)+n};(n=function(){var r=+new Date-u;e.scrollTop=Number(l({currentTime:r,startVal:i,changeVal:c,animateDuration:t[s]})),r<t[s]?requestAnimationFrame(n):e.scrollTop=t[o]})()},e.useWillMount=function(t){"object"==typeof e&&D.typeOf(e,"HTMLDocument")?e.listener("readystatechange",function(e){var n=e.target;return"interactive"===n.readyState&&t.call(t,n)}):D.console("error","UseWillMount hook just use when selector document.")},e.useMounted=function(t){"object"==typeof e&&D.typeOf(e,"HTMLDocument")?e.listener("readystatechange",function(e){var n=e.target;return"complete"===n.readyState&&t.call(t,n)}):D.console("error","UseMounted Hook just use when selector document.")},e};// public function
D.each=function(t,e){return t.forEach(function(t,n){return e.call(e,t,n)})},D.maps=function(t,e){return t.map(function(t,n){return e.call(e,t,n)})},D.filter=function(t,e){return t.filter(function(t){return e.call(e,t)})},D.find=function(t,e){return t.find(function(t){return e.call(e,t)})// 更新方法 2022/03/12
},D.sort=function(t,e){return t.sort(function(t,n){return e.call(e,t,n)})},D.sum=function(t,e,n){return n?t.reduce(function(t,n){return e.call(e,t,n)},n):t.reduce(function(t,n){return e.call(e,t,n)})},D.indexOf=function(t,e){return t.indexOf(e)},D.includes=function(t,e){return t.includes(e)},D.findIndexOfObj=function(t,e){return t.findIndex(function(t){return e.call(e,t)})},D.findObjProperty=function(t,e){return t.hasOwnProperty(e)// 更新方法 2022/03/23
},D.mergeArray=function(t,e,n){return n?t.concat(e):n.call(n,t.concat(e))// 更新方法 2022/03/23
},D.typeOf=function(t,e){return e?t.constructor.name===e:t.constructor.name// 更新方法 2021/10/26
},D.console=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return(C=console)[t].apply(C,l(n))// 更新方法 2021/10/26
},D.localData=function(t,e,n){return"get"===t?D.convert(localStorage.getItem(e),"json")||[]:localStorage.setItem(e,D.convert(n,"stringify"))// 更新方法 2021/11/29
},D.getNumberOfDecimal=function(t,e){return parseInt(t.toFixed(e))// 更新方法 2022/09/28
},D.createCustomEvent=function(t,e){return e?new CustomEvent(t,{detail:e}):new CustomEvent(t)// 更新方法 2022/07/13
},D.registerCustomEvent=function(t,e){return window.addEventListener(t,e)// 更新方法 2022/07/13
},D.useCustomEvent=function(t){return window.dispatchEvent(t)// 更新方法 2022/07/13
},D.removeCustomEvent=function(t,e){return window.removeEventListener(t,e)// 更新方法 2022/07/13
},D.createPromise=(p=e(function(t){return s(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e,n){return t.call(t,e,n)})// 更新方法 2022/07/14
];case 1:return[2,e.sent()]}})}),function(t){return p.apply(this,arguments)}),D.createPromiseAll=(d=e(function(t){return s(this,function(e){switch(e.label){case 0:return[4,Promise.all(t)// 更新方法 2022/07/14
];case 1:return[2,e.sent()]}})}),function(t){return d.apply(this,arguments)}),D.createDomText=function(t){return document.createTextNode(t)// 更新方法 2021/09/12
},D.objDetails=function(t,e){return e&&D.includes(["keys","values","entries"],e)?Object[e](t):D.console("error","please enter secode prameter 'keys' or 'values' or 'entries' in type string")// 更新方法 2021/09/12
},D.isObjectTheSame=function(t,e){return D.convert(t,"stringify")===D.convert(e,"stringify")// 更新方法 2023/06/01
},D.useBase64=function(t,e){return"encode"===t?btoa(e):atob(e)// 更新方法 2021/11/24
},D.useSHA=(m=e(function(t,e){var n;return s(this,function(r){switch(r.label){case 0:return[4,window.crypto.subtle.digest(t,new TextEncoder().encode(e))];case 1:return n=r.sent(),[2,Array.from(new Uint8Array(n)).map(function(t){return t.toString(16).padStart(2,"0")}).join("")]}})}),function(t,e){return m.apply(this,arguments)}),D.useUnicode=function(t,e){return"encode"===e?D.createArray({type:"fake",item:{random:t.length}},function(e){var n=t.charCodeAt(e),r=n.toString(16);return n<15?"\\u000".concat(r.toUpperCase()):n<255?"\\u00".concat(r.toUpperCase()):n<4095?"\\u0".concat(r.toUpperCase()):"\\u".concat(r.toUpperCase())}).join(""):t.replace(/\\u(\d{4})/g,function(t,e){return String.fromCharCode(parseInt(e,16))})},D.createArray=function(t,e){var n=t.type,r=t.item;if("fake"===n){if("random"in r&&D.typeOf(r.random,"Number")&&void 0!==e&&D.typeOf(e,"Function"))return Array.from({length:r.random},function(t,n){return e.call(e,n)});D.console("error","item property must have random in object and radom type must be number,with call back function in secode parameters.")}else if("new"===n&&!("random"in r))return Array.from(r)},D.convert=function(t,e){// 更新方法 2021/10/22
// 更新泛型回傳值 2022/03/19
if(t&&e){if(D.typeOf(t,"Object")&&D.includes(["string","number","float","boolean"],e)){D.console("error","Convert value can't be object when use convert type ".concat(e,"."));return}}else{D.console("error","Please enter first parameters value who want to convert and seconde paramters value is convert type 'string' or 'number' or 'float' or 'boolean' or 'json' or 'stringify'.");return}return({string:String(t),number:parseInt(t),float:parseFloat(t),boolean:!!t,json:"json"===e&&JSON.parse(t),stringify:"stringify"===e&&JSON.stringify(t)})[e]},D.createDom=function(t,e){var n=document.createElement(t),r=Object.entries(e);return D.each(r,function(t){var e=a(t,2),r=e[0],o=e[1];if(D.typeOf(o,"Object")){var s=a(t,2),i=s[0],c=a(Object.entries(s[1]),1),u=a(c[0],2),l=u[0],f=u[1];n[i][l]=f}else n[r]=D.typeOf(o,"String")?o.trim():o}),n},D.currencyTranser=function(t,e,n){if(D.typeOf(t,"Number")){var r=n?{style:"currency",currency:e}:{};return new Intl.NumberFormat(e||"TWN",r).format(t)}D.console("error","First argument formatNumber type must use number.")},D.formatDateTime=function(t){// #region 參數設定
/**
       * @param {object}
       * {
       *   formatDate: Date || string || number,
       *   formatType:string, <= 取日期時間格式 yyyy-MM-dd HH:mm:ss 等方式
       *   toROCYear:boolean <= 輸出民國年，可選參數
       *   localCountryTime:number <= localCountryTime 根據時區格式化，預設為 GMT+8，可選參數
       *   toDateFullNumber <= toDateFullNumber 將當前格式化時間改為數字，可以用於排序上，可選參數
       *   customWeekItem <= customWeekItem 放入格式化文字日別，如 ['週一','週二',...'週日'] // 更新方法 2021/08/02
       * }
       * @returns {string | number}
       */// #endregion
if(!(D.findObjProperty(t,"formatDate")||D.findObjProperty(t,"formatType"))){D.console("error","Please enter an object and use formatType property in the object.");return}if(D.findObjProperty(t,"customWeekItem")){if("Array"!==D.typeOf(t.customWeekItem)){D.console("error","customWeekItem property Must use array.");return}if(t.customWeekItem.length<=6||t.customWeekItem.length>7){D.console("error","customWeekItem property must put seven days name of week in array.");return}t.customWeekItem=[t.customWeekItem[t.customWeekItem.length-1]].concat(l(t.customWeekItem)).removeFirst()}var e,n=("localCountryTime"in t?null!==(e=t.localCountryTime)&&void 0!==e?e:0:8)*36e5,r=new Date(D.typeOf(t.formatDate,"Number")?t.formatDate:+new Date(t.formatDate)+n).toJSON().replace(/T/g,"-").replace(/:/g,"-").replace(/\./g,"-").replace(/Z/g,"").split("-"),o=a(r,7),s=o[0],i=o[1],c=o[2],u=o[3],f=o[4],p=o[5],d=o[6],m=(null==t?void 0:t.toROCYear)?(parseInt(s)-1911).toString():s// 更新方法 2023/03/08
;if(D.findObjProperty(t,"toDateFullNumber"))return D.convert(r.join(""),"number");// 更新是否格式化 AM 或 PM 2022/03/19
if(t.formatType.match("tt")){var y=D.convert(u,"number")>11?"PM":"AM",h=D.convert(u,"number")-12<10?"0".concat(D.convert(u,"number")-12):D.convert(D.convert(u,"number")-12,"string");return t.formatType.replace(/yyyy/g,m).replace(/MM/g,i).replace(/dd/g,c).replace(/HH/g,h).replace(/mm/g,f).replace(/ss/g,p).replace(/ms/g,d).replace(/tt/g,y)}return D.findObjProperty(t,"customWeekItem")?{fullDateTime:t.formatType.replace(/yyyy/g,m).replace(/MM/g,i).replace(/dd/g,c).replace(/HH/g,u).replace(/mm/g,f).replace(/ss/g,p).replace(/ms/g,d),getWeekName:t.customWeekItem[new Date(+new Date(t.formatDate)).getDay()]}:t.formatType.replace(/yyyy/g,m).replace(/MM/g,i).replace(/dd/g,c).replace(/HH/g,u).replace(/mm/g,f).replace(/ss/g,p).replace(/ms/g,d)},D.rebuildObject=function(t,e){return Object.fromEntries(Object.entries(t).map(function(t){var n=a(t,2),r=n[0],o=n[1];return e.call(e,r,o)}))}// 更新方法內容 2023/09/12
;// eslint-disable-next-line @typescript-eslint/no-extraneous-class
var P=/*#__PURE__*/function(){var t;function n(){i(this,n)}return t=[{key:"fetchSetting",value:function(t,n){var r=this;return e(function(){var o,i,c,l,f,p,d,m,y,h,v,b,g,w,x,T,j,k,O,S,C,P;return s(this,function(A){var I,F,M;switch(A.label){case 0:if(o={},i=t.method,c=t.headers,l=t.contentType,f=t.useFormData,p=t.useXMLHttpRequest,d=t.returnType,m=t.data,y=t.routeParams,h=t.queryParams,v=t.timeout,b=t.beforePost,g=t.successFn,w=t.excuteDone,x=t.errorFn,o.method=i,t.url=r.baseUrl?"".concat(r.baseUrl).concat(t.url):t.url,T=null!=d?d:"json",!i)return D.console("error","Property name method is required in obejct parameters."),[2];if(!D.includes(["get","post","patch","put","delete"],i.toLocaleLowerCase()))return D.console("error","Method value must use valid request method,like get、post ..."),[2];if(t.useFormData=!!f,y&&(j=a(D.objDetails(y,"keys"),1)[0],t.url="".concat(t.url,"/").concat(y[j])),h&&(k=D.maps(D.objDetails(h,"entries"),function(t){var e=a(t,2),n=e[0],r=e[1];return"".concat(n,"=").concat(r)}).join("&"),t.url="".concat(t.url,"?").concat(k)),(D.objDetails(r.baseHeaders,"keys").length>0||c&&D.objDetails(c,"keys").length>0)&&(o.headers=D.objDetails(r.baseHeaders,"keys").length>0?r.baseHeaders:u({"Content-Type":"application/json"},c)),m&&(f?o.body=r.convertFormData(m):(o.headers=D.objDetails(r.baseHeaders,"keys").length>0?r.baseHeaders:{"Content-Type":null!=l?l:"application/json"},o.body=D.convert(m,"stringify"))),(D.objDetails(r.baseHeaders,"keys").length>0||c)&&m&&(o.headers=D.objDetails(r.baseHeaders,"keys").length>0?r.baseHeaders:u({},c),o.body=f?r.convertFormData(m):D.convert(m,"stringify")),!n&&!p){if(b&&b.call(b),!g)return D.console("error","Function Name successFn is required in obejct parameters."),[2];if(!x)return D.console("error","Function Name errorFn is required in obejct parameters."),[2]}if(p){if(g)return D.console("error","successFn not necessary parameters."),[2];if(x)return D.console("error","errorFn not necessary parameters."),[2];return[2,r.XMLHttpRequest({url:t.url,method:o.method,headers:o.headers,data:o.body})]}return O=new AbortController,v&&setTimeout(function(){return O.abort()},v),[4,fetch(t.url,v?(I=u({},o),F=F={signal:O.signal},Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):(function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n})(Object(F)).forEach(function(t){Object.defineProperty(I,t,Object.getOwnPropertyDescriptor(F,t))}),I):o)];case 1:if(S=A.sent(),!n)return[3,3];return[4,new Promise((M=e(function(t,e){var n;return s(this,function(r){switch(r.label){case 0:if(!(S.status>=200&&S.status<400))return[3,2];return[4,S[T]()];case 1:return n=r.sent(),t({bodyUsed:S.bodyUsed,headers:S.headers,ok:S.ok,redirected:S.redirected,status:S.status,statusText:S.statusText,type:S.type,url:S.url,data:n}),[3,3];case 2:// eslint-disable-next-line prefer-promise-reject-errors
e({bodyUsed:S.bodyUsed,headers:S.headers,ok:S.ok,redirected:S.redirected,status:S.status,statusText:S.statusText,type:S.type,url:S.url}),r.label=3;case 3:return[2]}})}),function(t,e){return M.apply(this,arguments)}))];case 2:// eslint-disable-next-line @typescript-eslint/no-misused-promises, no-async-promise-executor
return[2,A.sent()];case 3:if(A.trys.push([3,7,,8]),!(S.status>=200&&S.status<400))return[3,5];return[4,S[T]()];case 4:return C=A.sent(),null==g||g.call(g,{bodyUsed:S.bodyUsed,headers:S.headers,ok:S.ok,redirected:S.redirected,status:S.status,statusText:S.statusText,type:S.type,url:S.url,data:C}),// eslint-disable-next-line @typescript-eslint/prefer-optional-chain
w&&w.call(w),[3,6];case 5:throw Error(JSON.stringify({bodyUsed:S.bodyUsed,headers:S.headers,ok:S.ok,redirected:S.redirected,status:S.status,statusText:S.statusText,type:S.type,url:S.url}));case 6:return[3,8];case 7:return P=A.sent(),null==x||x.call(x,JSON.parse(P.message)),[3,8];case 8:return[2]}})})()}},{key:"XMLHttpRequest",value:function(t){var e=new XMLHttpRequest;return e.open(t.method,t.url,!0),(null==t?void 0:t.headers)&&D.each(D.objDetails(null==t?void 0:t.headers,"entries"),function(t){var n=a(t,2),r=n[0],o=n[1];return e.setRequestHeader(r,o)}),{xhrResponseResult:function(t){e.onreadystatechange=function(){if(e.readyState===e.DONE&&e.status>=200&&e.status<=399)try{var n=JSON.parse(e.responseText);t.call(t,n)}catch(t){D.console("error",t)}e.status>=400&&D.console("error",e.statusText)}},xhrUploadProgress:function(t){e.upload.onprogress=function(e){if(e.lengthComputable){var n=100*e.loaded/e.total;t.call(t,n)}}},xhrRequestStart:function(){return e.send((null==t?void 0:t.data)||void 0)}}}},{key:"convertFormData",value:function(t){var e=new FormData;return D.each(D.objDetails(t,"entries"),function(t){var n=a(t,2),r=n[0],o=n[1];return e.append("uploadFile"===r?"FileList":r,o)}),e}},{key:"createBase",value:function(t){var e=t.baseUrl,n=t.baseHeaders;// #region
/** 參數設定
           * @param {string} baseUrl 固定網址，設定後網址後半部變動部分只須設定 url
           * @param {object} baseHeaders 固定使用的 headers 內容，如 token、Content-Type 之類的
           */// #endregion
this.baseUrl=e,this.baseHeaders=n}}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(n,t),n}();P.baseUrl="",P.baseHeaders={};var A=/*#__PURE__*/function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,t);var e,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o=f(r);if(e){var a=f(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(t=n)&&("object"==(t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)||"function"==typeof t)?t:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function r(){return i(this,r),n.apply(this,arguments)}return r}(P);// 更新 Promise 導出 get 方法 2022/05/01
A.get=(y=e(function(t,e){return s(this,function(n){switch(n.label){case 0:return[4,A.fetchSetting(u({method:"get",url:t},e),!0)];case 1:return[2,n.sent()]}})}),function(t,e){return y.apply(this,arguments)}),// 更新 Promise 導出 post 方法 2022/05/01
A.post=(h=e(function(t,e){return s(this,function(n){switch(n.label){case 0:return[4,A.fetchSetting(u({method:"post",url:t},e),!0)];case 1:return[2,n.sent()]}})}),function(t,e){return h.apply(this,arguments)}),// 更新 Promise 導出 patch 方法 2022/05/01
A.patch=(v=e(function(t,e){return s(this,function(n){switch(n.label){case 0:return[4,A.fetchSetting(u({method:"patch",url:t},e),!0)];case 1:return[2,n.sent()]}})}),function(t,e){return v.apply(this,arguments)}),// 更新 Promise 導出 put 方法 2022/05/01
A.put=(b=e(function(t,e){return s(this,function(n){switch(n.label){case 0:return[4,A.fetchSetting(u({method:"put",url:t},e),!0)];case 1:return[2,n.sent()]}})}),function(t,e){return b.apply(this,arguments)}),// 更新 Promise 導出 delete 方法 2022/05/01
A.delete=(g=e(function(t,e){return s(this,function(n){switch(n.label){case 0:return[4,A.fetchSetting(u({method:"delete",url:t},e),!0)];case 1:return[2,n.sent()]}})}),function(t,e){return g.apply(this,arguments)});var I=(w=e(function(t){return s(this,function(e){switch(e.label){case 0:return[4,P.fetchSetting(t,!1)// 更新 FetchClass 類方法導出 2022/03/24
];case 1:return[2,e.sent()]}})}),function(t){return w.apply(this,arguments)});// 更新 FetchClass 類方法導出，為 fetch 基礎組態設定 2022/03/24
I.get=(x=e(function(t,e){return s(this,function(n){switch(n.label){case 0:return[4,A.get(t,e)];case 1:return[2,n.sent()]}})}),function(t,e){return x.apply(this,arguments)}),I.post=(T=e(function(t,e){return s(this,function(n){switch(n.label){case 0:return[4,A.post(t,e)];case 1:return[2,n.sent()]}})}),function(t,e){return T.apply(this,arguments)}),I.patch=(j=e(function(t,e){return s(this,function(n){switch(n.label){case 0:return[4,A.patch(t,e)];case 1:return[2,n.sent()]}})}),function(t,e){return j.apply(this,arguments)}),I.put=(k=e(function(t,e){return s(this,function(n){switch(n.label){case 0:return[4,A.put(t,e)];case 1:return[2,n.sent()]}})}),function(t,e){return k.apply(this,arguments)}),I.delete=(O=e(function(t,e){return s(this,function(n){switch(n.label){case 0:return[4,A.delete(t,e)];case 1:return[2,n.sent()]}})}),function(t,e){return O.apply(this,arguments)}),I.createBase=function(t){return P.createBase(t)},D.fetch=I,// interface JSON {
//   deepCopy<T>(obj: T): T
// }
JSON.deepCopy=function(t){return D.convert(D.convert(t,"stringify"),"json")}// 更新方法 2023/04/22
,// interface Math {
//   toFixedNum(setting:{ value:string | number,toFloatPos:number }):(number | undefined)
// }
Math.toFixedNum=function(t){if(!t||!("value"in t)||!("toFloatPos"in t)){D.console("error","Please use object and with key value pair. ex: { value:100.1,toFloatPos:1 }");return}if(!D.typeOf(t.toFloatPos,"Number")){D.console("error","toFloatPos key must use number.");return}return D.typeOf(t.value,"String")?Number(parseFloat(t.value).toFixed(t.toFloatPos)):Number(t.value.toFixed(t.toFloatPos))},// interface String {
//     format(formatStr:string,value:any[]):(string | undefined)
//     appendText(txt:string):string
//     appendDirection(direction:padDirection,pos:number,txt:string):string
//     range(startPos:number,endPos:number):string
// }
// interface StringConstructor {
//   toChartCode(str:string):number[]
// }
String.prototype.appendText=function(t){return this.toString()+t}// 更新方法 2022/06/24
,String.prototype.appendDirection=function(t,e,n){return this["left"===t?"padStart":"padEnd"](e,n)}// 更新方法 2023/02/07
,String.prototype.range=function(t,e){return this.toString().slice(t,e)}// 更新方法 2022/11/21
,String.prototype.format=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(D.typeOf(t,"String")&&D.includes(t,"{")&&D.includes(t,"}")){if(t.split("{").join("").split("}").length-1===n.length){var o=t,a=D.maps(n,function(t,e){return{replaceKey:"{".concat(e,"}"),replaceValue:t}});return D.maps(a,function(t){var e=t.replaceKey,n=t.replaceValue;return o=o.replace(e,n)}).range(a.length-1,a.length).join("")}D.console("error","Can't not find else aguments.")}else D.console("error","First paramter must use type string,if use string must like this ex：abc {0} efg {1}.")},String.toChartCode=function(t){return D.createArray({type:"fake",item:{random:t.length}},function(e){return t.charCodeAt(e)})}// 更新方法 2023/05/31
,// interface Date {
//   calculateFullDateTime(year?: number, month?: number, day?: number, hour?: number, minute?: number, second?: number):(Date | undefined)
//   toOptionTimeZoneForISO(timeZone: number):(string | void)
//   getLocalTimeZone(): number
// }
Date.prototype.calculateFullDateTime=function(t,e,n,r,o,a){var s=new Date(this);return t&&s.setFullYear(this.getFullYear()+t),e&&s.setMonth(this.getMonth()+e),n&&s.setDate(this.getDate()+n),r&&s.setHours(this.getHours()+r),o&&s.setMinutes(this.getMinutes()+o),a&&s.setSeconds(this.getSeconds()+a),s},Date.formatCountingTime=function(t){var e=t.formatTimesTemp,n=t.formatType,r=function(t){return t<10?"0".concat(t):"".concat(t)},o=Math.abs(e)/864e5,a=Math.floor(o),s=(o-a)*24,i=Math.floor(s),c=(s-i)*60,u=Math.floor((s-i)*60),l=Math.floor((c-u)*60);return n.replace(/dd/g,r(a)).replace(/HH/g,r(i)).replace(/mm/g,r(u)).replace(/ss/g,r(l))},Date.prototype.getLocalTimeZone=function(){return Math.abs(this.getTimezoneOffset()/60)}// 更新方法 2023/02/07
,Date.prototype.toOptionTimeZoneForISO=function(t){return t?new Date(+this+36e5*t).toISOString():D.console("error","Lost one parameter in function.")// 更新方法 2021/03/23
},// interface Array<T> { // 更新方法 2022/03/23
//   append(item: T): void
//   appendFirst(item: T): T[]
//   remove(pos: number): T[]
//   range(startPos: number, endPos: number): T[]
//   removeFirst(): T[]
//   removeLast(): T[]
// }
Array.prototype.append=function(t){this.push(t)}// 更新方法 2021/03/23
,Array.prototype.appendFirst=function(t){return this.unshift(t),this}// 更新方法 2021/03/23
,Array.prototype.remove=function(t){return this.splice(t,1),this}// 更新方法 2021/03/23
,Array.prototype.range=function(t,e){return this.slice(t,e)}// 更新方法 2021/03/23
,Array.prototype.removeFirst=function(){return this.shift(),this}// 更新方法 2021/03/23
,Array.prototype.removeLast=function(){return this.pop(),this}// 更新方法 2021/03/23
,// interface Map<K,V> { // 更新方法 2022/08/02
//   append(keyName: K, value: V): void
//   getValue(keyName: K): any
//   deleteKeyValue(keyName: K): boolean
//   removeAll(): void
//   isKeyInMap(keyName: K): boolean
//   toObject(): Record<string, any>
// }
Map.prototype.append=function(t,e){this.set(t,e)}// 更新方法 2022/08/02
,Map.prototype.getValue=function(t){return this.get(t)}// 更新方法 2022/08/02
,Map.prototype.deleteKeyValue=function(t){return this.delete(t)}// 更新方法 2022/08/02
,Map.prototype.removeAll=function(){this.clear()}// 更新方法 2022/08/02
,Map.prototype.isKeyInMap=function(t){return this.has(t)}// 更新方法 2022/08/02
,Map.prototype.toObject=function(){return Object.fromEntries(this)}// 更新方法 2022/08/02
,// interface Set<T> { // 更新方法 2022/08/02
//   append(value: T): void
//   deleteValue(value: T): boolean
//   isValueInSet(value: T): boolean
//   removeAll(): void
//   toArray<T>(): T[]
// }
Set.prototype.append=function(t){this.add(t)}// 更新方法 2022/08/02
,Set.prototype.deleteValue=function(t){return this.delete(t)}// 更新方法 2022/08/02
,Set.prototype.isValueInSet=function(t){return this.has(t)}// 更新方法 2022/08/02
,Set.prototype.removeAll=function(){this.clear()}// 更新方法 2022/08/02
,Set.prototype.toArray=function(){return l(this)}// 更新方法 2022/08/02
,// interface Object { // 更新方法 2022/08/02
//   toMap(obj: Record<string, any>): Map<string, any>
// }
Object.prototype.toMap=function(t){return new Map(Object.entries(t))}// 更新方法 2022/08/02
;var F=[],M="",E=-1,H=[],N=[];// 設定點擊內容所加入的文字
window.choose=function(t,e){var r,o;"A"===e?(D(D(".text-first")[t]).addClass("texts-trans"),D(D(".text-second")[t]).removeClass("texts-trans"),M=(n(r={},"".concat(E>=0&&E<=6),"E"),n(r,"".concat(E>=7&&E<=13),"N"),n(r,"".concat(E>=14&&E<=20),"F"),n(r,"".concat(E>=21&&E<=27),"J"),r).true):(D(D(".text-second")[t]).addClass("texts-trans"),D(D(".text-first")[t]).removeClass("texts-trans"),M=(n(o={},"".concat(E>=0&&E<=6),"I"),n(o,"".concat(E>=7&&E<=13),"S"),n(o,"".concat(E>=14&&E<=20),"T"),n(o,"".concat(E>=21&&E<=27),"P"),o).true),27===E&&window.nextStep()};var L=function(t){var e=t.target;D(e).addClass("confirm-active"),setTimeout(function(){return D(e).removeClass("confirm-active")},540),setTimeout(function(){return D(".custom-modal-outer").removeClass("modal-toggle")},890)};// 設定點擊下一題時的函式內容
window.nextStep=function(){if(29===E){E=-1,F=[],M="",D(".start-btn").removeClass("start-btn-in"),D(".start-btn-outer-frame").addClass("start-btn-outer-frame-hide"),D(".type-text-content").removeClass("type-text-content-in"),setTimeout(function(){D(".type-text-content").styles("remove","display","flex"),window.nextStep()},699);return}if(E>=0&&!M){D(".custom-modal-outer").addClass("modal-toggle");return}if(++E>=1&&F.append(M),M="",0===E){var t=D.maps(H,function(t){var e=t.qNum,n=t.qT,r=t.ansA,o=t.ansB,a=window.innerWidth<=768&&n.length>20?"text-justify":"text-center",s=window.innerWidth<=768&&r.length>16?"text-justify":"text-center",i=window.innerWidth<=768&&o.length>16?"text-justify":"text-center";return'<div class="Q-outer justify-content-center">\n                <div class="row">\n                    <div class="col-md-12">\n                        <div class="quest '.concat(a,'">').concat(n,'</div>\n                    </div>\n                    <div class="col-md-12">\n                        <div class="row justify-content-center">\n                            <div class="col-md-8">\n                                <span class="texts text-first ').concat(s,'" onclick="choose(').concat(e,",'A')\">").concat(r,'</span>\n                                <span class="texts text-second ').concat(i,'" onclick="choose(').concat(e,",'B')\">").concat(o,"</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")}).concat('\n            <div class="Q-outer justify-content-center">\n                <div class="go-counting">\n                    <div class="working-count-btn" onclick="countingAllTest()">計算結果</div>\n                    <div class="change-ans-btn" onclick="backStep()">改變作答</div>\n                </div>\n            </div>\n        ').concat('\n            <div class="prev prev-hide" onclick="backStep()">\n                <i class="fas fa-2x fa-chevron-left"></i>\n            </div>\n            <div class="next" onclick="nextStep()">\n                <i class="fas fa-2x fa-chevron-right"></i>\n            </div>\n        ').join("");D(".Q-outer-frame").html(t),D(".start-btn").removeClass("start-btn-in"),D(".start-btn-outer-frame").addClass("start-btn-outer-frame-hide"),D(".explain").removeClass("explain-show"),setTimeout(function(){D(".Q-outer-frame").addClass("Q-outer-frame-in")},699)}27===E&&D(".next").addClass("next-hide"),E>=1&&(D(".prev").removeClass("prev-hide"),E>=28&&(E=28,D(".prev").addClass("prev-hide")),D.each(D(".Q-outer"),function(t){return D(t).styles("set","transform","translateX(-".concat(100*E,"%)"))}))},window.countingAllTest=function(){E++,D(".Q-outer-frame").removeClass("Q-outer-frame-in"),U()},// 設定點擊上一題的函式內容
window.backStep=function(){if(--E<=0){E=0,D(".prev").addClass("prev-hide"),D.each(D(".Q-outer"),function(t){return D(t).styles("set","transform","translateX(-".concat(100*E,"%)"))}),D(D(".text-first")[E]).removeClass("texts-trans"),D(D(".text-second")[E]).removeClass("texts-trans");return}27===E&&(D(".next").addClass("next-hide"),D(".prev").removeClass("prev-hide"),D.each(D(".Q-outer"),function(t){return D(t).styles("set","transform","translateX(-".concat(100*E,"%)"))}),D(D(".text-first")[E]).removeClass("texts-trans"),D(D(".text-second")[E]).removeClass("texts-trans")),E<=26&&(D(".next").removeClass("next-hide"),D.each(D(".Q-outer"),function(t){return D(t).styles("set","transform","translateX(-".concat(100*E,"%)"))}),D(D(".text-first")[E]).removeClass("texts-trans"),D(D(".text-second")[E]).removeClass("texts-trans")),F.removeLast()};// 設定統計字數函式
var U=function(){var t=D.maps([["E","外向"],["I","內向"],["N","直覺"],["S","感覺"],["T","理性"],["F","情感"],["J","判斷"],["P","理解"]],function(t,e){var n=a(t,2);return{num:e,type:n[0],typeName:n[1],count:0}}),e=D.maps(t,function(t){return t.count=D.filter(F,function(e){return e===t.type}).length,t.count>=4&&t.type}).filter(function(t){return!1!==t}).join("");W(t,e)},W=function(t,e){var n=0;D(".type-text-content").styles("set","display","flex"),setTimeout(function(){setTimeout(function(){var t=setInterval(function(){n>=5?(D(".loading-font").texts("計算完成"),clearInterval(t)):n++},1e3)},10),D(".type-text-content").html('\n            <div class="loading-outer">\n                <div class="loading"></div>\n                <span class="loading-font">計算中</span>\n            </div>')},1e3),setTimeout(function(){return D(".loading-outer").addClass("loading-outer-out")},8e3);var r=D.maps(e.split(""),function(e){var n=D.filter(t,function(t){return t.type===e});return n.length>0&&D.maps(n,function(t){var e=t.count,n=t.type,r=t.typeName;return{percent:Math.floor(100/(Math.floor(7/e*100)/100)),maxType:"".concat(n," ( ").concat(r," )"),minType:D.maps([["E","外向","I","內向"],["N","直覺","S","感覺"],["T","理性","F","情感"],["J","判斷","P","理解"]],function(t){var e=a(t,4),r=e[0],o=e[1],s=e[2],i=e[3];return n===r?"".concat(s," ( ").concat(i," )"):n===s&&"".concat(r," ( ").concat(o," )")}).filter(function(t){return!1!==t}).join("")}}).at(0)}).filter(function(t){return!1!==t}),o=D.filter(N,function(t){return t.originsType===e}).map(function(t){return'\n        <div class="row">\n            <div class="col-md-12">\n                <span class="type-title">您的類型</span>\n                <span class="type-origins">'.concat(t.originsType,'</span>\n                <span class="type-name">').concat(t.nameType,'</span>\n                <span class="type-think">( ').concat(t.thinkType,' )</span>\n                <div class="percent-outer">\n                    <div class="row">\n                        ').concat(D.maps(r,function(t){var e=t.maxType,n=t.minType;return'\n    <div class="col-md-6">\n        <div class="percent">\n        '.concat(e,' \n            <div class="progress-outer">\n                <div class="progress-bar-custom">\n                    <span>0 %<span>\n                </div>\n            </div>\n        ').concat(n,"\n        </div>\n    </div>\n")}).join(""),'\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col-md-6">\n                        <div class="type-think-details-group">\n                            <span class="type-think-detailsA">').concat(t.thinkTypeA,'</span>\n                            <span class="type-think-detailsA">').concat(t.thinkTypeAa,'</span>\n                        </div>\n                    </div>\n                    <div class="col-md-6">\n                        <div class="type-think-details-group">\n                            <span class="type-think-detailsB">').concat(t.thinkTypeB,'</span>\n                            <span class="type-think-detailsB">').concat(t.thinkTypeBb,'</span>\n                        </div>\n                    </div>\n                    <div class="col-md-6">\n                        <div class="type-think-details-group">\n                            <span class="type-think-detailsC">').concat(t.thinkTypeC,'</span>\n                            <span class="type-think-detailsC">').concat(t.thinkTypeCc,'</span>\n                        </div>\n                    </div>\n                    <div class="col-md-6">\n                        <div class="type-think-details-group">\n                            <span class="type-think-detailsD">').concat(t.thinkTypeD,'</span>\n                            <span class="type-think-detailsD">').concat(t.thinkTypeDd,'</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="col-md-12">\n                <ul class="type-content">\n                    <li>性格總體描述</li>\n                    <li>').concat(t.explainType,"</li>\n                    <li>適合的職業類型</li>\n                    <li>").concat(t.explainObject,'</li>\n                </ul>\n                <ul class="type-love">\n                    <li>戀愛時</li>\n                    <li>角色類型 - ').concat(t.loveType,"</li>\n                    <li>").concat(t.explainLove,'</li>\n                </ul>\n                <ul class="type-fall-love">\n                    <li>失戀時</li>\n                    <li>').concat(t.explainFallLove,"</li>\n                </ul>\n            </div>\n        </div>\n    ")}).join("");o&&setTimeout(function(){R(),D(".type-text-content").addClass("type-text-content-in").html(o)},9500),o&&setTimeout(function(){D.each(r,function(t,e){var n=t.percent;setTimeout(function(){var t=0,r=setInterval(function(){t===n?clearInterval(r):(t++,D(D(".progress-bar-custom")[e]).styles("set","width","".concat(t,"%")),D(D(".progress-bar-custom span")[e]).texts("".concat(t," %")))},16)},5e3)})},9700),o&&setTimeout(function(){D(".start-btn").addClass("start-btn-in"),D(".start-btn-outer-frame").removeClass("start-btn-outer-frame-hide"),D(".start-btn").texts("重新測驗"),F=[]},26500)},q=function(){var t=D(".start-btn-outer").getDomPos(),e=t.top,n=t.height,r=window.scrollY,o=window.innerHeight+r;-1===E&&D(".start-btn")[e+n/2<o?"addClass":"removeClass"]("start-btn-in")},R=function(){return D("body").scrollToTop({scrollTop:0,duration:3e3})},B=(S=e(function(){var t,e,n,r,o;return s(this,function(a){switch(a.label){case 0:return[4,D.fetch.get("https://fordb-1-f6742337.deta.app/mind/v1/questions")];case 1:return H=a.sent().data.data,[4,D.fetch.get("https://fordb-1-f6742337.deta.app/mind/v1/final_test")];case 2:return N=a.sent().data.data,t="MBTI16種性格測驗",e=-1,n=0,r="",D(".title").addClass("title-in"),D(".start-btn").texts("開始"),o=setInterval(function(){e===t.length-1&&n===t.length?(clearInterval(o),r=""):(r=r.appendText("".concat(t.slice(e+=1,n+=1))),D(".title").texts(r))},300),D(".explain").addClass("explain-show"),window.innerWidth<=414&&D(".type-font-group").html('\n        <ul class="listA">\n            <li>\n                I . 心理能力的走向<br>\n                你是「外向 E」( Extrovert )？\n                <br>\n                還是「內向 I」( Introvert )？\n            </li>\n            <li>\n                II . 認識外在世界的方法\n                <br>\n                你是「感覺 S」( Sensing )？\n                <br>\n                還是「直覺 N」( Intuition )？\n            </li>\n            <li>\n                III . 倚賴甚麼方式做決定\n                <br>\n                你是「理性 T」( Thinking )？\n                <br>\n                還是「情感 F」( Feeling )？\n            </li>\n            <li>\n                IV . 生活方式和處事態度\n                <br>\n                你是「判斷 J」( Judging )？\n                <br>\n                還是「理解 P」( Perceiving )？\n            </li>\n        </ul>\n        <ul class="listB mt-5">\n            <li>\n                請輕鬆作答便可\n                <br>\n                測驗結果可依個人官感參考\n                <br>\n                也可當成玩樂性質\n            </li>\n            <li>\n                題目總共 28 題，請依直覺判斷喔~\n                <br>\n                感謝您的使用\n            </li>\n        </ul>\n    '),[2]}})}),function(){return S.apply(this,arguments)});D(document).useMounted(function(){B(),D(".start-btn").listener("click",function(){return window.nextStep()}),D(".confirm").listener("click",L),D(window).listener("scroll",q)})}();