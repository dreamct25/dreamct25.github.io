function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function t(t){for(var s=1;s<arguments.length;s++){var r=null!=arguments[s]?arguments[s]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(s){e(t,s,r[s])}))}return t}const s=(s=>{const r=e=>{const t=s.call(s,e)||e;return t.texts=e=>e?t.textContent=e:t.textContent,t.html=e=>e?t.innerHTML=e:t.innerHTML,t.addClass=e=>(t.classList.add(e),t),t.removeClass=e=>(t.classList.remove(e),t),t.toggleClass=e=>t.classList.toggle(e),t.on=(e,s)=>{t[["on",e].join("")]=e=>s.call(s,t,e)},t.listener=(e,s)=>t.addEventListener(e,s),t.removeListener=(e,s)=>t.removeEventListener(e,s),t.val=e=>e?t.value=e:t.value,t.attr=(e,s)=>s?t.setAttribute(e,s):t.getAttribute(e),t.props=(e,s)=>s?t[e]=s:t[e],t.sibling=e=>t[e],t.child=e=>t.children[e],t.childFirst=()=>t.firstElementChild,t.childLast=()=>t.lastElementChild,t.parent=()=>t.parentNode,t.appendDom=e=>t.append(e),t.removeDom=()=>t.remove(),t.removeChildDom=()=>t.replaceChildren(),t.appendDomText=e=>t.appendChild(e),t.easyAppendDom=(e,s)=>t.insertAdjacentHTML("afterDom"!==e?"afterbegin":"beforeend",s),t.styles=(e,s,o)=>{if(r.includes(["set","remove"],e))return"set"===e?t.style.setProperty(s,o):t.style.removeProperty(s),t;r.console("error","First parameter method must use string and keyword is 'set' or 'remove'.")},t.getDomStyles=e=>{const s={};if("object"!=typeof e)r.console("error","Parameter must use array.");else{if(0!==e.length)return r.each(e,(e=>s[e]=getComputedStyle(t).getPropertyValue(e))),s;r.console("error","Parameter must use array,and css property must in array with string.")}return s},t.getDomPos=()=>({x:t.props("offsetLeft"),y:t.props("offsetTop")-window.scrollY,top:t.props("offsetTop"),left:t.props("offsetLeft"),right:t.props("offsetLeft")+t.props("offsetWidth"),bottom:t.props("offsetTop")+t.props("offsetHeight")-window.scrollY,width:t.props("offsetWidth"),height:t.props("offsetHeight")}),t.scrollToTop=(e={scrollTop:0,duration:0})=>{let s;const[r,o]=Object.keys(e),a=t[r],n=e[r]-a,i=+new Date;(s=()=>{const l=+new Date-i;t.scrollTop=Number((e=>{const{currentTime:t,startVal:s,changeVal:r,animateDuration:o}=e;let a=t;return a/=o/2,a<1?r/2*a*a+s:(a-=1,-r/2*(a*(a-2)-1)+s)})({currentTime:l,startVal:a,changeVal:n,animateDuration:e[o]})),l<e[o]?requestAnimationFrame(s):t.scrollTop=e[r]})()},t.useWillMount=e=>{"object"==typeof t&&r.typeOf(t,"HTMLDocument")?t.listener("readystatechange",(({target:t})=>"interactive"===t.readyState&&e.call(e,t))):r.console("error","UseWillMount hook just use when selector document.")},t.useMounted=e=>{"object"==typeof t&&r.typeOf(t,"HTMLDocument")?t.listener("readystatechange",(({target:t})=>"complete"===t.readyState&&e.call(e,t))):r.console("error","UseMounted Hook just use when selector document.")},t};r.each=(e,t)=>e.forEach(((e,s)=>t.call(t,e,s))),r.maps=(e,t)=>e.map(((e,s)=>t.call(t,e,s))),r.filter=(e,t)=>e.filter((e=>t.call(t,e))),r.find=(e,t)=>e.find((e=>t.call(t,e))),r.sort=(e,t)=>e.sort(((e,s)=>t.call(t,e,s))),r.sum=(e,t,s)=>s?e.reduce(((e,s)=>t.call(t,e,s)),s):e.reduce(((e,s)=>t.call(t,e,s))),r.indexOf=(e,t)=>e.indexOf(t),r.includes=(e,t)=>e.includes(t),r.findIndexOfObj=(e,t)=>e.findIndex((e=>t.call(t,e))),r.findObjProperty=(e,t)=>e.hasOwnProperty(t),r.mergeArray=(e,t,s)=>s?e.concat(t):s.call(s,e.concat(t)),r.typeOf=(e,t)=>t?e.constructor.name===t:e.constructor.name,r.console=(e,...t)=>console[e](...t),r.localData=(e,t,s)=>"get"===e?r.convert(localStorage.getItem(t),"json")||[]:localStorage.setItem(t,r.convert(s,"stringify")),r.getNumberOfDecimal=(e,t)=>parseInt(e.toFixed(t)),r.createCustomEvent=(e,t)=>t?new CustomEvent(e,{detail:t}):new CustomEvent(e),r.registerCustomEvent=(e,t)=>window.addEventListener(e,t),r.useCustomEvent=e=>window.dispatchEvent(e),r.removeCustomEvent=(e,t)=>window.removeEventListener(e,t),r.createPromise=e=>new Promise(((t,s)=>e.call(e,t,s))),r.createPromiseAll=(...e)=>Promise.all(e),r.createDomText=e=>document.createTextNode(e),r.objDetails=(e,t)=>void 0!==t&&r.includes(["keys","values","entries"],t)?Object[t](e):r.console("error","please enter secode prameter 'keys' or 'values' or 'entries' in type string"),r.createArray=({type:e,item:t},s)=>{if("fake"===e){if("random"in t&&r.typeOf(t.random,"Number")&&void 0!==s&&r.typeOf(s,"Function"))return Array.from({length:t.random},((e,t)=>s.call(s,t)));r.console("error","item property must have random in object and radom type must be number,with call back function in secode parameters.")}else if("new"===e&&!("random"in t))return Array.from(t)},r.convert=(e,t)=>{if(void 0===e||void 0===t)return void r.console("error","Please enter first parameters value who want to convert and seconde paramters value is convert type 'string' or 'number' or 'float' or 'boolean' or 'json' or 'stringify'.");if("object"==typeof e&&r.includes(["string","number","float","boolean"],t))return void r.console("error",`Convert value can't be object when use convert type ${t}.`);return{string:String(e),number:parseInt(e),float:parseFloat(e),boolean:Boolean(e),json:"json"===t&&JSON.parse(e),stringify:"stringify"===t&&JSON.stringify(e)}[t]},r.createDom=(e,t)=>{const s=document.createElement(e),o=Object.entries(t);return r.each(o,(e=>{const[t,o]=e;if(r.typeOf(o,"Object")){const[t,r]=e,[[o,a]]=Object.entries(r);s[t][o]=a}else s[t]=r.typeOf(o,"String")?o.trim():o})),s},r.currencyTranser=(e,t)=>{if(void 0!==e){const s=""===e?{}:{style:"currency",currency:e};return new Intl.NumberFormat(""===e?"TWN":e,s).format(t)}r.console("error","First argument currency type is must.")},r.formatDateTime=e=>{if(!("formatDate"in e)&&!("formatType"in e))return void r.console("error","Please enter an object and use formatType property in the object.");if(r.findObjProperty(e,"customWeekItem")){if("Array"!==r.typeOf(e.customWeekItem))return void r.console("error","customWeekItem property Must use array.");if(e.customWeekItem.length<=6||e.customWeekItem.length>7)return void r.console("error","customWeekItem property must put seven days name of week in array.");e.customWeekItem=[e.customWeekItem[e.customWeekItem.length-1],...e.customWeekItem],e.customWeekItem.pop()}const t=36e5*("localCountryTime"in e?e.localCountryTime||0:8),s=new Date(+new Date(e.formatDate)+t).toJSON().replace(/T/g,"-").replace(/:/g,"-").split(".")[0].split("-"),[o,a,n,i,l,c]=s;if("toDateFullNumber"in e)return r.convert(s.join(""),"number");if(e.formatType.match("tt")){const t=r.convert(i,"number")>11?"PM":"AM",s=r.convert(i,"number")-12<10?"0"+(r.convert(i,"number")-12):r.convert(r.convert(i,"number")-12,"string");return e.formatType.replace(/yyyy/g,o).replace(/MM/g,a).replace(/dd/g,n).replace(/HH/g,s).replace(/mm/g,l).replace(/ss/g,c).replace(/tt/g,t)}return r.findObjProperty(e,"customWeekItem")?{fullDateTime:e.formatType.replace(/yyyy/g,o).replace(/MM/g,a).replace(/dd/g,n).replace(/HH/g,i).replace(/mm/g,l).replace(/ss/g,c),getWeekName:e.customWeekItem[new Date(+new Date(e.formatDate)).getDay()]}:e.formatType.replace(/yyyy/g,o).replace(/MM/g,a).replace(/dd/g,n).replace(/HH/g,i).replace(/mm/g,l).replace(/ss/g,c)};class o{static async fetchSetting(e,s){const o={},{method:a,headers:n,contentType:i,returnType:l,data:c,routeParams:u,beforePost:p,successFn:m,excuteDone:d,errorFn:y}=e;o.method=a,e.url=this.baseUrl?`${this.baseUrl}${e.url}`:e.url;const f=l||"json";if(!a)return void r.console("error","Property name method is required in obejct parameters.");if(!r.includes(["get","post","patch","put","delete"],a.toLocaleLowerCase()))return void r.console("error","Method value must use valid request method,like get、post ...");if(u){const[t]=r.objDetails(u,"keys");e.url=`${e.url}/${u[t]}`}if((r.objDetails(this.baseHeaders,"keys").length>0||n&&r.objDetails(n,"keys").length>0)&&(o.headers=r.objDetails(this.baseHeaders,"keys").length>0?this.baseHeaders:t({"Content-Type":"application/json"},n)),c&&(o.headers=r.objDetails(this.baseHeaders,"keys").length>0?this.baseHeaders:{"Content-Type":i||"application/json"},o.body=r.convert(c,"stringify")),(r.objDetails(this.baseHeaders,"keys").length>0||n)&&c&&(o.headers=r.objDetails(this.baseHeaders,"keys").length>0?this.baseHeaders:t({},n),o.body=r.convert(c,"stringify")),!s){if(p&&p.call(p),!m)return void r.console("error","Function Name successFn is required in obejct parameters.");if(!y)return void r.console("error","Function Name errorFn is required in obejct parameters.")}const g=await fetch(e.url,o);if(s)return new Promise((async(e,t)=>{if(g.status>=200&&g.status<400){const t=await g[f]();return e({bodyUsed:g.bodyUsed,headers:g.headers,ok:g.ok,redirected:g.redirected,status:g.status,statusText:g.statusText,type:g.type,url:g.url,data:t})}t({bodyUsed:g.bodyUsed,headers:g.headers,ok:g.ok,redirected:g.redirected,status:g.status,statusText:g.statusText,type:g.type,url:g.url})}));try{if(!(g.status>=200&&g.status<400))throw new Error(JSON.stringify({bodyUsed:g.bodyUsed,headers:g.headers,ok:g.ok,redirected:g.redirected,status:g.status,statusText:g.statusText,type:g.type,url:g.url}));{const e=await g[f]();null==m||m.call(m,{bodyUsed:g.bodyUsed,headers:g.headers,ok:g.ok,redirected:g.redirected,status:g.status,statusText:g.statusText,type:g.type,url:g.url,data:e}),d&&d.call(d)}}catch(e){null==y||y.call(y,JSON.parse(e.message))}}static createBase({baseUrl:e,baseHeaders:t}){this.baseUrl=e,this.baseHeaders=t}}e(o,"baseUrl",""),e(o,"baseHeaders",{});class a extends o{}a.get=(e,s)=>a.fetchSetting(t({method:"get",url:e},s),!0),a.post=(e,s)=>a.fetchSetting(t({method:"post",url:e},s),!0),a.patch=(e,s)=>a.fetchSetting(t({method:"patch",url:e},s),!0),a.put=(e,s)=>a.fetchSetting(t({method:"put",url:e},s),!0),a.delete=(e,s)=>a.fetchSetting(t({method:"delete",url:e},s),!0);return r.fetch=e=>o.fetchSetting(e,!1),r.fetch.get=(e,t)=>a.get(e,t),r.fetch.post=(e,t)=>a.post(e,t),r.fetch.patch=(e,t)=>a.patch(e,t),r.fetch.put=(e,t)=>a.put(e,t),r.fetch.delete=(e,t)=>a.delete(e,t),r.fetch.createBase=e=>o.createBase(e),r})((e=>"object"==typeof e?e:document.querySelectorAll(e).length>1?document.querySelectorAll(e):document.querySelector(e)));String.prototype.appendText=function(e){return this.toString()+e},String.prototype.format=function(e,...t){if(s.typeOf(e,"String")&&s.includes(e,"{")&&s.includes(e,"}")){if(e.split("{").join("").split("}").length-1===t.length){let r=e;const o=s.maps(t,((e,t)=>({replaceKey:`{${t}}`,replaceValue:e})));return s.maps(o,(({replaceKey:e,replaceValue:t})=>(r=r.replace(e,t),r))).slice(o.length-1,o.length).join("")}s.console("error","Can't not find else aguments.")}else s.console("error","First paramter must use type string,if use string must like this ex：abc {0} efg {1}.")},Date.prototype.calculateDay=function(e){if(void 0!==e&&"day"in e&&"method"in e)if("number"==typeof e.day){if(s.includes(["addDay","reduceDay"],e.method))return{addDay:new Date(+this+864e5*e.day),reduceDay:new Date(+this-864e5*e.day)}[e.method];s.console("error","Please enter method type 'addDay' or 'reduceDay'.")}else s.console("error","day property must use type number.");else s.console("error","Please enter an object and use day and method property in the object.")},Date.prototype.toOptionTimeZoneForISO=function(e){return new Date(+this+36e5*(e||8)).toISOString()},Array.prototype.append=function(e){this.push(e)},Array.prototype.appendFirst=function(e){return this.unshift(e),this},Array.prototype.remove=function(e){return this.splice(e,1),this},Array.prototype.range=function(e,t){return this.slice(e,t)},Array.prototype.removeFirst=function(){return this.shift(),this},Array.prototype.removeLast=function(){return this.pop(),this},Map.prototype.append=function(e,t){this.set(e,t)},Map.prototype.getValue=function(e){return this.get(e)},Map.prototype.deleteKeyValue=function(e){return this.delete(e)},Map.prototype.removeAll=function(){this.clear()},Map.prototype.isKeyInMap=function(e){return this.has(e)},Map.prototype.toObject=function(){return Object.fromEntries(this)},Set.prototype.append=function(e){this.add(e)},Set.prototype.deleteValue=function(e){return this.delete(e)},Set.prototype.isValueInSet=function(e){return this.has(e)},Set.prototype.removeAll=function(){this.clear()},Set.prototype.toArray=function(){return[...this]};var r=s;const o=document.querySelector(".player");let a,n=!1;const i=({target:e})=>{const t=e.files.item(0),s=window.URL.createObjectURL(t);a=t,r(".progress").styles("set","flex-basis","0%"),r(".player-outer").removeClass("player-outer-in"),r(".sign-icon-outer").html(""),r(o).styles("set","width",window.innerWidth-90+"px"),r(".btn").toggleClass("btn-active"),r(".switch").html('<i class="fas fa-play"></i>'),r(".switch").toggleClass("switch-toggle"),r(".video-name").texts(`File Name：${t.name.slice(0,-4)}`),"video"===t.type.slice(0,5)?(r(".video-type").texts(`File Type：${"x-m"==t.type.slice(6,9)?"mkv":t.type.slice(6,9)}`),r(".sign-icon-outer").html('<i class="fas fa-play movie-icon"></i>'),setTimeout((()=>r(".movie-icon").addClass("movie-icon-show")),3e3)):(r(".video-type").texts(`File Type：${"mpeg"==t.type.slice(6,11)?"mp3":t.type.slice(7,11)}`),r(".sign-icon-outer").html('\n            <div class="circle-outer">\n                <div class="circle"></div>\n            </div>\n            <i class="fal fa-music music-icon"></i>\n        '),setTimeout((()=>r(".music-icon").addClass("music-icon-show")),3e3)),setTimeout((()=>r(o).attr("src",s)),1e3),setTimeout((()=>r(".player-outer").addClass("player-outer-in")),2e3),setTimeout((()=>r(".btn").styles("set","display","none")),2100)},l=()=>{o[o.paused?"play":"pause"](),r(o)[o.webkitDisplayingFullscreen?"removeListener":"listener"]("click",l),"video"===a.type.slice(0,5)&&p()},c=({target:e})=>{r(".switch").html(`<i class="${e.paused?"fas fa-play":"fas fa-pause"}"></i>`),r(".switch").toggleClass("switch-toggle")},u=()=>{const e=o.currentTime/o.duration*100;r(".progress").styles("set","flex-basis",`${e}%`),m()},p=()=>{o.paused?(r(".sign-icon-outer").html('<i class="fas fa-pause movie-icon"></i>'),setTimeout((()=>r(".movie-icon").addClass("movie-icon-show")),1)):(r(".sign-icon-outer").html('<i class="fas fa-play movie-icon"></i>'),r(".movie-icon").addClass("movie-icon-show"),setTimeout((()=>r(".movie-icon").removeClass("movie-icon-show")),1))},m=()=>{const e=o.currentTime;"audio"==a.type.slice(0,5)&&(o.paused?(r(".music-icon").removeClass("music-trans"),r(".music-icon").styles("set","color","rgb(185,185,185)"),r(".circle").styles("set","opacity","0"),r(".circle").removeClass("circle-active"),r(".circle-outer").removeClass("circle-outer-active")):(r(".music-icon").addClass("music-trans"),r(".music-icon").styles("set","color",`rgb(${1.2*e-162},${1.4*e-81},${1.6*e})`),r(".circle").styles("set","opacity","1"),r(".circle").styles("set","border-top",`7px solid rgb(${1.5*e-81},${1.4*e-162},${1.6*e})`),r(".circle").styles("set","border-bottom",`7px solid rgb(${1.5*e-81},${1.4*e-162},${1.6*e})`),r(".circle").addClass("circle-active"),r(".circle-outer").addClass("circle-outer-active")))},d=({offsetX:e})=>{const{width:t}=r(".progress-outer").getDomPos(),s=e/t*o.duration;o.currentTime=s},y=e=>{const t=e.pageX-18,s=e.pageY-29;r(".message").styles("set","top",`${s}px`),r(".message").styles("set","display","block");const{width:a}=r(".progress-outer").getDomPos(),[n,i,l]=(e=>{const t=e=>e<10?`0${e}`:`${e}`,s=e/864e5,r=24*(s-Math.floor(s)),o=Math.floor(r),a=60*(r-o),n=Math.floor(60*(r-o)),i=Math.floor(60*(a-n));return`${t(o)}:${t(n)}:${t(i)}`})(e.offsetX/a*o.duration*1e3).split(":"),c="00"===n?`${i} : ${l}`:`${n.split("")[1]} : ${i} : ${l}`,{useStyle:u,text:p}={[e.target.className]:{useStyle:"",text:""},"fas fa-play":{useStyle:t-2+"px",text:"Play"},"fas fa-pause":{useStyle:t-10+"px",text:"Pause"},"jump left":{useStyle:t-20+"px",text:"Rewind 20s"},"jump right":{useStyle:t-10+"px",text:"Skip 20s"},"progress-outer":{useStyle:t-8+"px",text:c},progress:{useStyle:t-8+"px",text:c}}[e.target.className];if(u&&p&&(r(".message").styles("set","left",u),r(".message").texts(p)),e.target.name){const[s,o]=r(".video");if("volume"===e.target.name){const{value:e}=s;r(".message").styles("set","left",t-3+"px"),r(".message").texts(`${(100*parseFloat(e)).toFixed(0)}%`)}else{const{value:e}=o,s=`${e}${.5===parseFloat(e)||1.5===parseFloat(e)?"0":""}`,a=`${e}${1===parseFloat(e)?".00":""}`,n=1!==parseFloat(e)?s:a;r(".message").styles("set","left",t-7+"px"),r(".message").texts(`${n}x`)}}};r(document).useMounted((e=>{r(".top-title").addClass("top-title-in"),setTimeout((()=>r(".bottom-title").addClass("bottom-title-in")),1e3),setTimeout((()=>r(".btn").toggleClass("btn-active")),2e3),r(e).listener("keydown",(e=>{32===e.keyCode&&(e.preventDefault(),o[0==o.paused?"pause":"play"](),p())})),r(o).listener("click",l),r(o).listener("play",c),r(o).listener("pause",c),r(o).listener("timeupdate",u),r(o).listener("mouseenter",(()=>{r(".player-controls").addClass("player-controls-active"),r(".topbar").addClass("topbar-active")})),r(o).listener("mouseout",(()=>{r(".player-controls").removeClass("player-controls-active"),r(".topbar").removeClass("topbar-active")})),r(".player-controls").listener("mouseover",(()=>{r(".player-controls").addClass("player-controls-active"),r(".topbar").addClass("topbar-active")})),r(".player-controls").listener("mouseout",(()=>{r(".player-controls").removeClass("player-controls-active"),r(".topbar").removeClass("topbar-active"),r(".message").styles("remove","left"),r(".message").styles("remove","display"),r(".message").texts("")})),r(".switch").listener("click",l),r(".switch").listener("mouseover",y),r(".switch").listener("mousemove",y),r.each(r(".jump"),(e=>{r(e).listener("click",(({target:e})=>o.currentTime+=parseInt(e.dataset.jump))),r(e).listener("mouseover",y),r(e).listener("mousemove",y)})),r.each(r(".video"),(e=>{r(e).listener("input",(({target:e})=>o[e.name]=e.value)),r(e).listener("mouseover",y),r(e).listener("mousemove",y)})),r(".progress").listener("mousemove",y),r(".progress-outer").listener("click",d),r(".progress-outer").listener("mousemove",(e=>n&&d(e))),r(".progress-outer").listener("mousedown",(()=>n=!0)),r(".progress-outer").listener("mouseup",(()=>n=!1)),r(".progress-outer").listener("mouseover",y),r(".progress-outer").listener("mousemove",y),r(".upfile").listener("change",i),r(".screen").listener("click",(()=>o.requestFullscreen())),r(".change-icon").listener("click",(({target:e})=>{r(".changebar").toggleClass("changebar-active"),r(e).toggleClass("change-icon-active")})),r(".changeV").listener("click",(()=>{r(".btn").styles("set","display","block"),r(".player-outer").removeClass("player-outer-in"),r(".change-icon").toggleClass("change-icon-active"),r(".changebar").toggleClass("changebar-active"),o.pause(),r(".switch").toggleClass("switch-toggle"),setTimeout((()=>r(".btn").toggleClass("btn-active")),1200)}))}));