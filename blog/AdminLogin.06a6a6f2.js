function e(e){return e&&e.__esModule?e.default:e}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire35b1;t.register("lcpGR",function(a,n){Object.defineProperty(a.exports,"__esModule",{value:!0,configurable:!0}),Object.defineProperty(a.exports,"default",{get:function(){return u},set:void 0,enumerable:!0,configurable:!0});var l=t("aOJwI"),o=t("e0rqH"),r=t("4PLf1"),s=t("stS02"),i=t("7gcRj"),c=t("4utvf"),u=()=>{let{$:t,Fetch:a,setReducer:n,changeWebTitle:u}=(0,o.useContext)(s.NewContext),d=(0,r.useNavigate)(),[{acName:p,pwdTemp:m,pwd:f},g]=(0,o.useState)({acName:"",pwdTemp:"",pwd:""}),v=(0,o.useRef)(p),w=(0,o.useRef)(f),b=async(e,{target:a})=>{let n={};if("pwdTemp"===e){n[e]=a.value;let l=await t.useSHA("SHA-256",a.value);n.pwd=l}else n[e]=a.value;g(e=>(0,l._)({},e,n))},y=()=>{a.post("/login",{data:{acName:v.current,pwd:w.current}}).then(({data:e})=>{n(c.actionCreator,"setAuthInfo",{ac:null==e?void 0:e.ac,token:null==e?void 0:e.token}),sessionStorage.setItem("temp",JSON.stringify({ac:null==e?void 0:e.ac,token:null==e?void 0:e.token})),d({pathname:"/admin/article_all"})}).catch(e=>alert("error"))},N=({keyCode:e})=>13===e&&y();return(0,o.useEffect)(()=>{v.current=p,w.current=f},[p,f]),(0,o.useEffect)(()=>{if(sessionStorage.getItem("temp")){let e=JSON.parse(sessionStorage.getItem("temp"));n(c.actionCreator,"setAuthInfo",e)}return t(window).listener("keypress",N),()=>t(window).removeListener("keypress",N)},[]),/*@__PURE__*/e(o).createElement(c.Container,null,u("後台登入"),/*@__PURE__*/e(o).createElement("div",{className:"login-layout"},/*@__PURE__*/e(o).createElement("div",{className:"header"},"登入系統"),/*@__PURE__*/e(o).createElement("div",{className:"input-group"},/*@__PURE__*/e(o).createElement(i.CustomInput,{label:"帳號",type:"text",bindVal:p,changeEvent:b.bind(void 0,"acName"),className:p?"lock":""}),/*@__PURE__*/e(o).createElement(i.CustomInput,{label:"密碼",type:"password",bindVal:m,changeEvent:b.bind(void 0,"pwdTemp"),className:m?"lock":""})),/*@__PURE__*/e(o).createElement("div",{onClick:y,className:"login-btn"},"登入")))}});