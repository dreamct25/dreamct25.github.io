!function(){function e(e){return e&&e.__esModule?e.default:e}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire35b1;t.register("63IY9",function(n,a){Object.defineProperty(n.exports,"__esModule",{value:!0,configurable:!0}),Object.defineProperty(n.exports,"default",{get:function(){return m},set:void 0,enumerable:!0,configurable:!0});var r=t("fDqVs"),o=t("lakWf"),u=t("ksxDn"),i=t("bW9HB"),l=t("diPDO"),c=t("cYcEi"),s=t("5OXzf"),d=t("dR8pc"),f=t("05gWr"),p=void 0,m=function(){var t,n=(0,l.useContext)(s.NewContext),a=n.$,m=n.Fetch,g=n.setReducer,v=n.changeWebTitle,b=(0,c.useNavigate)(),w=(0,u._)((0,l.useState)({acName:"",pwdTemp:"",pwd:""}),2),h=w[0],y=h.acName,N=h.pwdTemp,k=h.pwd,E=w[1],_=(0,l.useRef)(y),C=(0,l.useRef)(k),I=(t=(0,r._)(function(e,t){var n,r,u;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(n=t.target,r={},"pwdTemp"!==e)return[3,2];return r[e]=n.value,[4,a.useSHA("SHA-256",n.value)];case 1:return u=i.sent(),r.pwd=u,[3,3];case 2:r[e]=n.value,i.label=3;case 3:return E(function(e){return(0,o._)({},e,r)}),[2]}})}),function(e,n){return t.apply(this,arguments)}),S=function(){m.post("/login",{data:{acName:_.current,pwd:C.current}}).then(function(e){var t=e.data;g(f.actionCreator,"setAuthInfo",{ac:null==t?void 0:t.ac,token:null==t?void 0:t.token}),sessionStorage.setItem("temp",JSON.stringify({ac:null==t?void 0:t.ac,token:null==t?void 0:t.token})),b({pathname:"/admin/article_all"})}).catch(function(e){return alert("error")})},T=function(e){return 13===e.keyCode&&S()};return(0,l.useEffect)(function(){_.current=y,C.current=k},[y,k]),(0,l.useEffect)(function(){if(sessionStorage.getItem("temp")){var e=JSON.parse(sessionStorage.getItem("temp"));g(f.actionCreator,"setAuthInfo",e)}return a(window).listener("keypress",T),function(){return a(window).removeListener("keypress",T)}},[]),/*@__PURE__*/e(l).createElement(f.Container,null,v("後台登入"),/*@__PURE__*/e(l).createElement("div",{className:"login-layout"},/*@__PURE__*/e(l).createElement("div",{className:"header"},"登入系統"),/*@__PURE__*/e(l).createElement("div",{className:"input-group"},/*@__PURE__*/e(l).createElement(d.CustomInput,{label:"帳號",type:"text",bindVal:y,changeEvent:I.bind(p,"acName"),className:y?"lock":""}),/*@__PURE__*/e(l).createElement(d.CustomInput,{label:"密碼",type:"password",bindVal:N,changeEvent:I.bind(p,"pwdTemp"),className:N?"lock":""})),/*@__PURE__*/e(l).createElement("div",{onClick:S,className:"login-btn"},"登入")))}})}();