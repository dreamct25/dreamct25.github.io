!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}var n=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire35b1;n.register("607MJ",function(a,i){Object.defineProperty(a.exports,"__esModule",{value:!0,configurable:!0}),t(a.exports,"default",function(){return f});var o=n("ksxDn"),l=n("diPDO"),r=n("4W25a"),c=n("cYcEi"),s=n("5OXzf"),u=n("3U4rE"),d=n("2ccns"),m=void 0,f=function(){var t=(0,l.useContext)(s.NewContext),n=t.Fetch,a=t.setReducer,i=(0,c.useNavigate)(),f=(0,c.useLocation)().pathname,p=JSON.parse(sessionStorage.getItem("temp"))||void 0,g=function(e){n.get("/logout",{token:e}).then(function(e){var t=e.data;console.log(null==t?void 0:t.message),a(d.actionCreator,"setAuthInfo",{ac:"",token:""}),sessionStorage.removeItem("temp"),i({pathname:"/admin/login"})})};return(0,l.useEffect)(function(){if(p){var e=p.token,t=(0,u.parseJwt)(e).timesTemp;(+new Date-t)/1e3/60/60>2?g(e):(a(d.actionCreator,"setAuthInfo",p),"/admin"===f||"/admin/login"===f?i({pathname:"/admin/article_all"}):i({pathname:location.pathname},{replace:!0}))}else i({pathname:"/admin/login"})},[]),/*@__PURE__*/e(l).createElement("div",{className:"container-fluid"},/*@__PURE__*/e(l).createElement(d.Container,null,/*@__PURE__*/e(l).createElement("div",{className:"header"},/*@__PURE__*/e(l).createElement("h1",null,"後台","/admin/login"===f?"":"/admin/article_all"===f?"文章":"留言","管理")),/*@__PURE__*/e(l).createElement("div",{className:"main"},/*@__PURE__*/e(l).createElement(r.Outlet,null)),p?/*@__PURE__*/e(l).createElement("div",{className:"right-top-group"},/*@__PURE__*/e(l).createElement("div",{onClick:function(){i({pathname:"article_all"===(0,o._)(f.split("/"),3)[2]?"/admin/msg_all":"/admin/article_all"})},className:"dashboard-switch-btn"},"/admin/article_all"===f?"留言管理":"文章管理"),/*@__PURE__*/e(l).createElement("div",{onClick:g.bind(m,p.token),className:"logout-btn"},"登出")):null))}}),n.register("3U4rE",function(e,n){t(e.exports,"parseJwt",function(){return a});var a=function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(window.atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join("")))}})}();